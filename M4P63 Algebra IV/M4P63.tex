\def\module{M4P63 Algebra IV}
\def\lecturer{Dr John Britnell}
\def\term{Spring 2020}
\def\cover{}
\def\syllabus{}
\def\thm{section}

\input{../style/header}

\begin{document}

\input{../style/cover}

\setcounter{section}{0}

\section{Modules over a ring}

\lecture{1}{Friday}{10/01/20}

Let $ R $ be an \textbf{associative ring with unity}, that is an abelian group written additively with a multiplication which is associative but not necessarily commutative, with an identity $ 1 $ and distributive laws $ a\br{b + c} = ab + ac $ and $ \br{a + b}c = ac + bc $. Then
$$ R^* = \cbr{r \in R \st \exists s \in R, \ rs = 1 = sr} $$
is the unit group of $ R $. If $ R^* = R \setminus \cbr{0} $ then $ R $ is a \textbf{division ring}, or a \textbf{skew field}. In the case that $ R $ is commutative, $ R $ is a \textbf{field}.

\begin{example*}
\hfill
\begin{itemize}
\item Fields $ \CC $, $ \RR $, $ \QQ $, and $ \FF_q $, the field with $ q = p^a $ elements with $ p $ a prime and $ a \ge 1 $.
\item Skew fields $ \HH = \cbr{a + bi + cj + dk \st a, b, c, d \in \RR} $ where $ i^2 = j^2 = k^2 = ijk = -1 $.
\item Other rings are polynomial rings $ k\sbr{x} $ for $ k $ a field, more generally $ k\sbr{x_1, \dots, x_p} $, and $ \Mat_n k $, the $ n \times n $ matrices with entries from $ k $, a field.
\end{itemize}
\end{example*}

\subsection{Modules}

\begin{definition}
Let $ R $ be a ring. A \textbf{left $ R $-module} is an abelian group $ M $, written additively, together with a function $ * : R \times M \to M $ satisfying
$$ r * \br{m_1 + m_2} = r * m_1 + r * m_2, \qquad \br{r_1 + r_2} * m = r_1 * m + r_2 * m, \qquad \br{r_1r_2} * m = r_1 * \br{r_2 * m}, \qquad 1 * m = m. $$
\end{definition}

We write $ rm $ for $ r * m $.

\begin{example*}
\hfill
\begin{itemize}
\item $ R $ is itself a left $ R $-module, with $ * $ as ring multiplication. More generally, let $ I $ be a left ideal of $ R $, so $ I $ is an additive subgroup, and $ rI \le I $ for all $ r \in R $. Then $ I $ is an $ R $-module with $ * $ as ring multiplication.
\item Let $ k $ be a field. Then any vector space over $ k $ is a $ k $-module, and vice versa.
\item Any abelian group is a $ \ZZ $-module, with $ * $ defined by $ na = a + \dots + a $ for $ n \in \ZZ^+ $ and $ a \in A $, and $ \br{-n}a = -\br{na} $.
\item Let $ k $ be a field. Let $ k^n $ be column vectors. Then $ k^n $ is a left $ \Mat_n k $-module, with $ * $ as the usual matrix-vector multiplication.
\item Let $ M \in \Mat_n k $. Then we can define a left $ k\sbr{x} $-module structure on $ k^* $ by letting $ x $ act as $ M $ on $ k^* $. So $ \br{x^2 + 3x - 2} * v = M^2v + 3Mv - 2v $.
\item Let $ G $ be a group. Any representation of $ G $ over the field $ k $ is a left module for $ k\sbr{G} $, the \textbf{group algebra}, a vector space over $ k $ with elements of $ G $ as a basis, with multiplication derived from that of $ G $.
\end{itemize}
\end{example*}

\begin{definition}
A \textbf{right $ R $-module} is defined similarly, with the $ R $-multiplication on the right, so $ M $ an abelian group under $ + $, and a map $ M \times R \to M $ satisfying
$$ \br{m_1 + m_2} * r = m_1 * r + m_2 * r, \qquad m * \br{r_1 + r_2} = m * r_1 + m * r_2, \qquad m * \br{r_1r_2} = \br{m * r_1} * r_2, \qquad m * 1 = m. $$
\end{definition}

Left and right modules are not quite the same. If we amend this definition by putting the ring multiplication on the left, the third axiom becomes $ \br{r_1r_2}m = r_2\br{r_1m} $. But in a left module, we have $ \br{r_1r_2}m = r_1\br{r_2m} $.

\begin{definition}
Let $ R $ be a ring. The \textbf{opposite ring} $ R^{\op} $ is $ R $ with a redefined multiplication $ r *_{R^{\op}} s = s *_R r $.
\end{definition}

It is easy to see that a left $ R $-module is the same as a right $ R^{\op} $-module and vice versa. If $ R $ is commutative then $ R = R^{\op} $.

\begin{exercise*}
Show that $ \Mat_n k \cong \Mat_n k^{\op} $.
\end{exercise*}

Except where otherwise stated, $ R $-modules are assumed to be left $ R $-modules.

\pagebreak

\subsection{Homomorphisms}

\begin{definition}
Let $ M_1 $ and $ M_2 $ be $ R $-modules. A map $ f : M_1 \to M_2 $ is an \textbf{$ R $-module homomorphism} if
\begin{itemize}
\item $ f $ is a group homomorphism, with respect to the $ + $ operation, and
\item $ f\br{rm} = rf\br{m} $, for $ r \in R $ and $ m \in M $.
\end{itemize}
If $ f $ is bijective, then it is an \textbf{$ R $-module isomorphism}.
\end{definition}

\begin{definition}
An additive subgroup $ L \le M $ is a \textbf{submodule} if $ rL \le L $ for $ r \in R $. In this case we automatically get an $ R $-module structure on the quotient $ M / L $ with multiplication given by $ r\br{m + L} = rm + L $.
\end{definition}

\begin{theorem}[First isomorphism theorem]
Let $ f : M_1 \to M_2 $ be an $ R $-module homomorphism. Then
$$ \Im f \le M_2, \qquad \Ker f \le M_1, \qquad \Im f \cong M / \Ker f. $$
\end{theorem}

The other isomorphism theorems have $ R $-module versions too.

\subsection{Direct products and direct sums}

\lecture{2}{Monday}{13/01/20}

Let $ S $ be a set. We have a collection of $ R $-modules $ \br{M_s}_S $ indexed by $ S $.

\begin{definition}
The \textbf{direct product} is
$$ \prod_{s \in S} M_s = \cbr{\br{m_s}_S \st m_s \in M_s}, $$
with coordinate-wise addition and $ R $-multiplication, so
$$ \br{m_s}_S + \br{n_s}_S = \br{m_s + n_s}_S, \qquad r\br{m_s}_S = \br{rm_s}_S. $$
If $ M_s = M $ for all $ s \in S $, then we write $ M^S $ for $ \prod_{s \in S} M_s $. The \textbf{direct sum} is
$$ \bigoplus_{s \in S} M_s = \cbr{\br{m_s}_S \st \text{all but finitely many coordinates} \ m_s \ \text{are zero}} \le \prod_{s \in S} M_s. $$
If $ S $ is finite then the direct product and the direct sum are equal.
\end{definition}

\begin{example*}
Let $ M = \ZZ_2 $, as a $ \ZZ $-module, and let $ S = \NN $. Then $ \bigoplus_{s \in \NN} \ZZ_2 $ is a countable $ \ZZ $-module but $ \prod_{s \in \NN} \ZZ_2 = \ZZ_2^\NN $ is uncountable.
\end{example*}

When $ \abs{S} = 2 $, generally we write $ M_1 \oplus M_2 $ for the direct sum or product. There are natural injective maps
$$ \function[\iota_A]{A}{A \oplus B}{a}{\br{a, 0}}, \qquad \function[\iota_B]{B}{A \oplus B}{b}{\br{0, b}}, $$
and surjective maps
$$ \function[\pi_A]{A \oplus B}{A}{\br{a, b}}{a}, \qquad \function[\pi_B]{A \oplus B}{B}{\br{a, b}}{b}. $$

\subsection{Exact sequences}

\begin{definition}
Suppose we have a sequence of $ R $-modules
$$ \dots \xrightarrow{f_{n - 1}} M_n \xrightarrow{f_n} M_{n + 1} \xrightarrow{f_{n + 1}} \dots, $$
with maps $ f_n : M_n \to M_{n + 1} $. Say the sequence is \textbf{exact at $ M_n $} if
$$ \Im f_{n - 1} = \Ker f_n. $$
The sequence is \textbf{exact} if it is exact everywhere. A \textbf{short exact sequence} is an exact sequence
$$ 0 \to A \xrightarrow{\alpha} B \xrightarrow{\beta} C \to 0. $$
\end{definition}

\begin{note*}
$ \alpha $ is injective and $ \beta $ is surjective.
\end{note*}

\pagebreak

The first isomorphism theorem implies that $ B / \Im \alpha \cong C $, where $ \Im \alpha \cong A $. An easy case is
$$ B \cong A \oplus C, $$
with $ \Im \alpha = \Im \iota_A = A \oplus 0 $ and $ \Im \beta = \Im \pi_\beta = C $. We say that the short exact sequence \textbf{splits} in this case.

\begin{example*}
A non-split short exact sequence of $ \ZZ $-modules, or abelian groups, is
$$ 0 \to \ZZ / 2\ZZ \to \ZZ / 4\ZZ \to \ZZ / 2\ZZ \to 0. $$
\end{example*}

\begin{proposition}
A short exact sequence
$$ 0 \to A \xrightarrow{\alpha} B \xrightarrow{\beta} C \to 0 $$
is split if and only if there exists an $ R $-module homomorphism $ \sigma : C \to B $ such that $ \beta \circ \sigma = \id_C $.
\end{proposition}

Such a $ \sigma $ is called a \textbf{section} of $ \beta $.

\begin{proof}
\hfill
\begin{itemize}
\item[$ \implies $] Suppose that the short exact sequence is split. So assume $ B = A \oplus C $, with $ \alpha = \iota_A $ and $ \beta = \pi_C $. Now $ \iota_C $ is a section for $ \beta $.
\item[$ \impliedby $] For the converse, suppose that $ \sigma $ is a section for $ \beta $. We want $ f : A \oplus C \xrightarrow{\sim} B $ such that $ f \circ \iota_A = \alpha $ and $ \beta \circ f = \pi_C $, so
$$
\begin{tikzcd}[row sep=tiny]
& & A \oplus C \arrow{dr}{\pi_C} \arrow{dd}{f} & & \\
0 \arrow{r} & A \arrow{ur}{\iota_A} \arrow[swap]{dr}{\alpha} & & C \arrow{r} & 0 \\
& & B \arrow[swap]{ur}{\beta} & &
\end{tikzcd}.
$$
Define
$$ \function[f]{A \times C}{B}{\br{a, c}}{\alpha\br{a} + \sigma\br{c}}. $$
Need to check the following.
\begin{itemize}
\item $ f $ is an $ R $-module homomorphism. \footnote{Exercise}
\item $ f $ is injective. Suppose $ f\br{a, c} = 0 $. Then $ \alpha\br{a} + \sigma\br{c} = 0 $. Now $ \alpha\br{a} \in \Im \alpha = \Ker \beta $, so $ \beta\br{\alpha\br{a} + \sigma\br{c}} = \beta\br{\sigma\br{c}} = c $. Since $ \alpha\br{a} + \sigma\br{c} = 0 $, we have $ c = 0 $. Hence $ \alpha\br{a} = 0 $, and so $ a = 0 $ since $ \alpha $ is injective. We have shown that $ f $ is injective.
\item $ f $ is surjective. Let $ b \in B $. Let $ c = \beta\br{b} $. We have $ \br{\beta \circ \sigma}\br{c} = c = \beta\br{b} $, so $ b - \sigma\br{c} \in \Ker \beta = \Im \alpha $. So there exists $ a \in A $ with $ \alpha\br{a} = b - \sigma\br{c} $. Then $ b = \alpha\br{a} + \sigma\br{c} = f\br{a, c} $.
\item $ f \circ \iota_A = \alpha $ and $ \beta \circ f = \pi_C $. Immediate from the construction of $ f $.
\end{itemize}
\end{itemize}
\end{proof}

\begin{proposition}
The short exact sequence
$$ 0 \to A \xrightarrow{\alpha} B \xrightarrow{\beta} C \to 0 $$
is split if and only if there exists $ \rho : B \to A $ such that $ \rho \circ \alpha = \id_A $.
\end{proposition}

Such a $ \rho $ is a \textbf{retraction} of $ \alpha $.

\begin{proof}
\hfill
\begin{itemize}
\item[$ \implies $] Once again, if the short exact sequence is split then the existence of $ \rho $ is clear.
\item[$ \impliedby $] Suppose that $ \rho $ is a retraction for $ \alpha $. We define $ f : B \xrightarrow{\sim} A \oplus C $ such that $ f \circ \alpha = \iota_A $ and $ \pi_C \circ f = \beta $. Do this by
$$ \function[g]{B}{A \oplus C}{b}{\br{\rho\br{a}, \beta\br{c}}}. $$
\end{itemize}
\end{proof}

\pagebreak

\subsection{Projective modules}

\lecture{3}{Tuesday}{14/01/20}

\begin{definition}
An $ R $-module $ M $ is \textbf{projective} if any surjective map $ \beta : B \to M $ has a section. In other words, any short exact sequence
$$ 0 \to A \to B \to M \to 0 $$
splits.
\end{definition}

\begin{example*}
The $ R $-module $ R $ is projective. Let
$$ 0 \to A \to B \xrightarrow{\beta} R \to 0 $$
be a short exact sequence. Since $ \beta $ is surjective, there exists $ b \in B $ such that $ \beta\br{b} = 1 $. Now for all $ r \in R $, $ \beta\br{rb} = r $. Now define
$$ \function[\sigma]{R}{B}{r}{rb}. $$
Then $ \sigma $ is a section for $ \beta $.
\end{example*}

\begin{proposition}
An $ R $-module $ M $ is projective if and only if whenever $ \beta : B \to C $ is surjective, and $ f : M \to C $, there exists $ g : M \to B $ such that $ f = \beta \circ g $, so
$$
\begin{tikzcd}
& & & M \arrow[dashed, swap]{dl}{g} \arrow{d}{f} & \\
0 \arrow{r} & A \arrow{r} & B \arrow[swap]{r}{\beta} & C \arrow{r} & 0
\end{tikzcd}.
$$
\end{proposition}

Such a $ g $ is called a \textbf{lift} of $ f $.

\begin{proof}
\hfill
\begin{itemize}
\item[$ \impliedby $] Suppose that whenever $ \beta : B \to C $ is surjective and $ f : M \to C $ then there exists $ g : M \to B $ with $ f = \beta \circ g $. Suppose $ \beta : B \to M $ is a surjective map. Define $ f : M \to M $ to be $ \id_M $. Then there exists $ g : M \to B $ such that $ f = \beta \circ g $, so $ \id_M = \beta \circ g $. So $ g $ is a section for $ \beta $, and so $ M $ is projective.
\item[$ \implies $] For the converse, suppose $ \beta : B \to C $ is surjective, and $ f : M \to C $. We construct a module $ X $ to complete a commuting square
$$
\begin{tikzcd}
X \arrow{r}{\epsilon} \arrow[swap]{d}{\delta} & M \arrow{d}{f} \\
B \arrow[swap]{r}{\beta} & C
\end{tikzcd}.
$$
Let $ X $ be the submodule of $ B \oplus M $ defined by
$$ X = \cbr{\br{b, m} \st \beta\br{b} = f\br{m}}. $$
The maps $ \delta $ and $ \epsilon $ are just $ \pi_B $ and $ \pi_M $ respectively, in their restrictions to $ X $. It is clear that $ X \le B \oplus M $, and that the square above commutes. Now suppose that $ M $ is projective. Since $ \beta $ is surjective, we see that for all $ m \in M $ there exists $ b \in B $ with $ \beta\br{b} = f\br{m} $. It follows that $ \epsilon : X \to M $ is surjective. So $ \epsilon $ has a section $ \sigma : M \to X $. Define $ g = \delta \circ \sigma : M \to B $, so
$$
\begin{tikzcd}
X \arrow[bend left=15]{r}{\epsilon} \arrow[swap]{d}{\delta} & M \arrow[bend left=15, dashed]{l}{\sigma} \arrow[dashed]{dl}{g} \arrow{d}{f} \\
B \arrow[swap]{r}{\beta} & C
\end{tikzcd}.
$$
Since $ \beta \circ \delta = f \circ \epsilon $, we have
$$ \br{\beta \circ g}\br{m} = \br{\beta \circ \delta \circ \sigma}\br{m} = \br{f \circ \epsilon \circ \sigma}\br{m} = \br{f \circ \id_M}\br{m} = f\br{m}, \qquad m \in M. $$
So $ \beta \circ g = f $ as required.
\end{itemize}
\end{proof}

\pagebreak

Such an $ X $ is the \textbf{pullback} of $ \beta $ and $ f $, and there is a short exact sequence
$$ 0 \to A \to X \to M \to 0. $$

\subsection{Free modules}

\begin{definition}
An $ R $-module $ M $ is \textbf{free} if $ M $ is a direct sum of copies of $ R $, so
$$ M = \bigoplus_{s \in S} R. $$
A \textbf{basis} for a module $ M $ is a set $ T $ of elements such that every element $ m \in M $ has a unique expression as
$$ m = \sum_{i = 1}^m r_it_i, \qquad r_i \in R, \qquad t_i \in T. $$
\end{definition}

If $ M = \bigoplus_{s \in S} R $, then $ M $ has a basis consisting of elements with exactly one coordinate one, and the rest zero. On the other hand, if $ M $ has a basis $ T $ then it is straightforward to show that $ M \cong \bigoplus_{t \in T} R $.

\begin{proposition}
Let $ F $ be a free $ R $-module with basis $ T $. Let $ M $ be some $ R $-module, and let $ \psi : T \to M $ be a set map. Then $ \psi $ extends uniquely to an $ R $-module homomorphism $ \psi : F \to M $.
\end{proposition}

\begin{proof}
Each element of $ F $ has a unique expression as $ \sum_i r_it_i $ for $ r_i \in R $ and $ t_i \in T $. Now define
$$ \function[\psi]{F}{M}{\sum_i r_it_i}{\sum_i r_i\psi\br{t_i}}. $$
It is easy to check that this respects $ + $ and $ R $-multiplication.
\end{proof}

\begin{proposition}
A module $ M $ is projective if and only if there exists $ N $ such that $ M \oplus N $ is free, so projective modules are direct summands of free modules.
\end{proposition}

\begin{proof}
\hfill
\begin{itemize}
\item[$ \implies $] Suppose $ M $ is projective. Let $ F $ be the free module with basis $ \cbr{b_m \st m \in M} $. Now the map $ b_m \mapsto m $ extends to an $ R $-module homomorphism $ F \to M $, which is clearly surjective. Then if $ K = \Ker \psi $, we have a short exact sequence
$$ 0 \to K \to F \xrightarrow{\psi} M \to 0. $$
Since $ M $ is projective, there is a section $ \sigma $ for $ \psi $, and so the short exact sequence splits, and $ F \cong K \oplus M $.

\lecture{4}{Friday}{17/01/20}

\item[$ \impliedby $] Suppose that $ M \oplus N = F $, a free module with basis $ T $. Suppose $ \beta : B \to C $ is surjective, and that $ f : M \to C $. Note that $ f \circ \pi_M : F \to C $. For each $ t \in T $, let $ b_t \in B $ be such that $ \beta\br{b_t} = \br{f \circ \pi_M}\br{t} $. The set map
$$ \function{T}{B}{t}{b_t} $$
extends to a homomorphism $ \widehat{g} : F \to B $. Now define $ g : M \to B $ by $ g = \widehat{g} \circ \iota_M $. We need to show $ f = \beta \circ g $. Take $ m \in M $. Then $ \iota_M\br{m} = \br{m, 0} \in F $ can be written as $ \sum_i r_it_i $, where $ t_i \in T $ and $ r_i \in R $. Applying $ \pi_M $, $ m = \sum_i r_im_{t_i} $. Then
$$ g\br{m} = \br{\widehat{g} \circ \iota_M}\br{m} = \widehat{g}\br{\sum_i r_it_i} = \sum_i r_ib_{t_i}. $$
So
$$ \br{\beta \circ g}\br{m} = \beta\br{\sum_i r_ib_{t_i}} = \sum_i r_i\beta\br{b_{t_i}} = \sum_i r_if\br{m_{t_i}} = f\br{\sum_i r_im_{t_i}} = f\br{m}. $$
Hence $ \beta \circ g = f $. So $ M $ is projective.
\end{itemize}
\end{proof}

\pagebreak

\subsection{Injective modules}

\begin{definition}
Let $ M $ be an $ R $-module. Then $ M $ is \textbf{injective} if whenever $ \alpha : M \to B $ is an injective map, it has a retraction $ \rho : B \to M $, so $ \rho \circ \alpha = \id_M $. Equivalently, every short exact sequence
$$ 0 \to M \to B \to C \to 0 $$
splits.
\end{definition}

\begin{example*}
Let $ k $ be a field. Then $ k $-modules are vector spaces. Every $ k $-module is injective. Suppose $ M $ and $ N $ are $ k $-vector spaces and $ \alpha : M \to N $ is a injective map. Then $ \Im \alpha $ is a submodule, or subspace, of $ N $. Take a basis for $ \Im \alpha $, and extend to a basis for $ N $. The basis vectors not in $ \Im \alpha $ form a basis for a complementary subspace $ U $, so $ N = \Im \alpha \oplus U $. Now $ \pi_{\Im \alpha} $ is surjective, and $ \alpha : M \to \Im \alpha $ is an isomorphism. This gives a retraction $ N \to M $.
\end{example*}

If $ R $ is a general ring, the module $ R $ need not be injective.

\begin{example*}
Let $ R = \ZZ $. Then $ R $-modules are abelian groups. There exists an injective $ \alpha : \ZZ \to \QQ $. But $ \ZZ $ is not a quotient of $ \QQ $, \footnote{Exercise} so no retraction exists for $ \alpha $.
\end{example*}

\begin{proposition}
An $ R $-module $ M $ is injective if and only if whenever $ \alpha : A \to B $ is injective, and $ f : A \to M $, there exists $ g : B \to M $ such that $ f = g \circ \alpha $.
\end{proposition}

\begin{proof}
\hfill
\begin{itemize}
\item[$ \impliedby $] Suppose that whenever $ \alpha : A \to B $ is injective, and $ f : A \to M $, there exists $ g : B \to M $ such that $ f = g \circ \alpha $. Suppose that $ \alpha : M \to B $ is injective. We have a map $ M \to M $, namely $ \id_M $. There exists $ g : B \to M $ such that $ \id_M = g \circ \alpha $. So $ g $ is a retraction for $ \alpha $, and so $ M $ is injective.
\item[$ \implies $] For the converse, suppose $ \alpha : A \to B $ is injective, and $ M $ is an injective module, with $ f : A \to M $. We define a module $ Y $ completing a square
$$
\begin{tikzcd}
A \arrow{r}{\alpha} \arrow[swap]{d}{f} & B \arrow{d}{\delta} \\
M \arrow[swap]{r}{\epsilon} & Y
\end{tikzcd},
$$
with $ \epsilon \circ f = \delta \circ \alpha $. Let $ Y $ be a quotient of $ B \oplus M $, by the kernel
$$ K = \cbr{\br{\alpha\br{a}, -f\br{a}} \st a \in A}. $$
Let $ \gamma : B \oplus M \to \br{B \oplus M} / K $ be the canonical quotient map. Then we define $ \delta = \gamma \circ \iota_B $ and $ \epsilon = \gamma \circ \iota_M $. By construction, we have
\begin{align*}
\br{\epsilon \circ f}\br{a}
& = \br{\gamma \circ \iota_M \circ f}\br{a}
= \gamma\br{0, f\br{a}}
= \br{0, f\br{a}} + K \\
& = \br{\alpha\br{a}, 0} + K
= \gamma\br{\alpha\br{a}, 0}
= \br{\gamma \circ \iota_B \circ \alpha}\br{a}
= \br{\delta \circ \alpha}\br{a}.
\end{align*}
Hence $ \epsilon \circ f = \delta \circ \alpha $. Claim that $ \epsilon $ is injective. Suppose $ \epsilon\br{m} = 0 $. Then $ \iota_M\br{m} \in K $, so $ \br{0, m} = \br{\alpha\br{a}, -f\br{a}} $ for some $ a \in A $. But $ \alpha\br{a} = 0 $ implies that $ a = 0 $, and so $ m = -f\br{0} = 0 $. Since $ M $ is injective, $ \epsilon $ has a retraction $ \rho : Y \to M $. Define $ g : B \to M $ by $ g = \rho \circ \delta $, so
$$
\begin{tikzcd}
A \arrow{r}{\alpha} \arrow[swap]{d}{f} & B \arrow[dashed, swap]{dl}{g} \arrow{d}{\delta} \\
M \arrow[bend right=15, swap]{r}{\epsilon} & Y \arrow[bend right=15, dashed, swap]{l}{\rho}
\end{tikzcd},
$$
We know that $ \br{\epsilon \circ f}\br{a} = \br{\delta \circ \alpha}\br{a} $ for all $ a \in A $. So
$$ f\br{a} = \br{\id_M \circ f}\br{a} = \br{\rho \circ \epsilon \circ f}\br{a} = \br{\rho \circ \delta \circ \alpha}\br{a} = \br{g \circ \alpha}\br{a}, $$
so $ f = g \circ \alpha $ as required.
\end{itemize}
\end{proof}

\pagebreak

We know that projectives are direct summands of free modules. We might hope for a dual version of this for injective modules. But there is no straightforward way of doing this.

\lecture{5}{Monday}{20/01/20}

\begin{proposition}[Baer's criterion for injectivity]
Let $ M $ be an $ R $-module. Then $ M $ is injective if and only if every $ R $-module map $ f : I \to M $, where $ I $ is a left ideal of $ R $, has the form $ f\br{x} = xm $ for some $ m \in M $. Equivalently, every map $ I \to M $ extends to a map $ R \to M $.
\end{proposition}

Why are these two conditions equivalent? If $ f\br{x} = xm $ for $ x \in I $, then we can extend $ f $ to $ R $ by $ f\br{r} = rm $. Conversely, suppose that $ f : I \to M $ extends to $ f^+ : R \to M $. Let $ m = f^+\br{1} $. Then for all $ r \in R $, $ f^+\br{r} = rm $, and so $ f\br{x} = xm $ for $ x \in I $. The proof requires Zorn's lemma.

\begin{lemma}[Zorn's lemma]
Let $ X $ be a non-empty set, partially ordered by $ \le $. If every chain, or totally ordered subset, in $ X $ has an upper bound in $ X $, then $ X $ has a maximal element.
\end{lemma}

\begin{proof}
\hfill
\begin{itemize}
\item[$ \impliedby $] Suppose $ \alpha : A \to B $, where $ \alpha $ is injective. Suppose $ f : A \to M $. We want to show there exists $ g : B \to M $ such that $ f = g \circ \alpha $. We have $ \Im \alpha \le B $. Define
$$ X = \cbr{\br{L, h} \st \Im \alpha \le L \le B, \ h : L \to M, \ f = h \circ \alpha}. $$
Note that $ X \ne \emptyset $ since $ \br{\Im \alpha, f \circ \alpha^{-1}} $ is in it. Define $ \le $ on $ X $ by $ \br{L_1, h_1} \le \br{L_2, h_2} $ if $ L_1 \le L_2 $ and $ h_2 $ extends $ h_1 $, so $ \eval{h_2}_{L_1} = h_1 $. Suppose $ \cbr{\br{L_s, h_s} \st s \in S} $ is a chain in $ X $. Set $ L = \bigcup_{s \in S} L_s $. Then $ \Im \alpha \le L \le B $. Define
$$ \function[h]{L}{M}{l}{h_s\br{l}}, \qquad l \in L_s. $$
This does not depend on the choice of $ s $. Then $ \br{L, h} $ is an upper bound for the chain $ \cbr{\br{L_s, h_s} \st s \in S} $. Hence $ X $ has a maximal element, $ \br{L_0, h_0} $. We want to show that $ L_0 = B $. Then we may set $ g = h_0 $. Suppose that $ L_0 \ne B $. Let $ b \in B \setminus L_0 $. Note that $ Rb \le B $. Consider
$$ L_0 + Rb = \cbr{l + rb \st l \in L_0, \ r \in R} \le B. $$
We would like to extend $ h_0 $ to $ h_0^+ $ by specifying an image for $ h_0^+\br{b} $. The problem is that $ Rb \cap L_0 $ may not be $ \cbr{0} $, and if $ rb \in L_0 $ then we require $ rh_0^+\br{b} = h_0\br{rb} $, otherwise $ h_0^+ $ will not be well-defined. Note that $ I = \cbr{r \in R \st rb \in L_0} $ is a left ideal for $ R $. Suppose that $ M $ has the condition from Baer's criterion, so every map $ I \to M $ has the form $ x \mapsto xm $ for some $ m \in M $. Note that $ \cbr{xb \st x \in I} $ is a submodule of $ L_0 $. Define
$$ \function[\delta]{I}{M}{x}{h_0\br{xb}}. $$
This is an $ R $-module homomorphism. So $ \delta\br{x} = xm $ for some $ m \in M $. Hence $ h_0\br{xb} = xm $ for all $ x \in I $. So we can safely define $ h_0^+\br{b} = m $. Now $ \br{L_0 + Rb, h_0^+} \in X $, and $ \br{L_0, h_0} < \br{L_0 + Rb, h_0^+} $, which contradicts the maximality of $ \br{L_0, h_0} $. Hence $ L_0 = B $, and we are done.
\item[$ \implies $] The converse is left as an exercise. \footnote{Exercise}
\end{itemize}
\end{proof}

\begin{example*}
\hfill
\begin{itemize}
\item Suppose $ R $ is a field. Then the only ideals of $ R $ are zero and $ R $. Any map $ 0 \to M $, for $ M $ an $ R $-module, can be extended to the zero map $ R \to M $. Hence any $ R $-module is injective.
\item Let $ \ZZ $ be a module for itself. The ideals of $ \ZZ $ are $ k\ZZ $ for $ k \in \ZZ $. Define
$$ \function[f]{k\ZZ}{\ZZ}{km}{m}. $$
If $ k \ne 0, \pm 1 $, then $ f\br{k} = 1 $, and so $ f\br{x} \ne xm $ for $ m \in \ZZ $, since one is not divisible by $ k $ in $ \ZZ $. So Baer's criterion fails, and $ \ZZ $ is not injective. We already knew that $ \ZZ \to \QQ $ has no retraction.
\item $ \QQ $ is injective as a $ \ZZ $-module. Suppose we have a map $ f : k\ZZ \to \QQ $. Let $ q = f\br{k} $. Then $ f\br{kt} = qt = \br{q / k}kt $. So $ f\br{x} = x\br{q / k} $ for all $ x $, so $ \QQ $ satisfies Baer's criterion.
\end{itemize}
\end{example*}

\pagebreak

\section{Hom and tensor product}

\subsection{Hom}

\lecture{6}{Tuesday}{21/01/20}

Let $ A $ and $ B $ be two $ R $-modules.

\begin{definition}
Define
$$ \Hom_R\br{A, B} = \cbr{\text{$ R $-module homomorphisms} \ A \to B}. $$
\end{definition}

We can define a natural addition on $ \Hom_R\br{A, B} $ by defining $ f_1 + f_2 $ by
$$ \br{f_1 + f_2}\br{a} = f_1\br{a} + f_2\br{b}, \qquad f_1, f_2 \in \Hom_R\br{A, B}. $$
This gives $ \Hom_R\br{A, B} $ the structure of an abelian group. Why does $ \Hom_R\br{A, B} $ not carry an $ R $-module structure in general? The only obvious candidate for $ rf $ is
$$ \br{rf}\br{a} = rf\br{a} = f\br{ra}, \qquad r \in R, \qquad f \in \Hom_R\br{A, B}. $$
Now suppose $ s \in R $. We have $ \br{rf}\br{sa} = rf\br{sa} = rsf\br{a} $. But for $ rf $ to be a homomorphism, we would need $ \br{rf}\br{sa} = s\br{rf}\br{a} = srf\br{a} $. If $ R $ is non-commutative, then $ rs $ may not be $ sr $, and so $ rf $ is not an $ R $-module homomorphism in general. Clearly, however, if $ R $ is commutative then $ rf $ is an $ R $-module homomorphism, and $ \Hom_R\br{A, B} $ has an $ R $-module structure. The following are observations.

\begin{proposition}
Suppose $ A, A_1, A_2, B, B_1, B_2, M $ are $ R $-modules, and $ \alpha : A \to B $.
\begin{itemize}
\item $ \Hom_R\br{A_1 \oplus A_2, B} \cong \Hom_R\br{A_1, B} \oplus \Hom_R\br{A_2, B} $.
\item $ \Hom_R\br{A, B_1 \oplus B_2} \cong \Hom_R\br{A, B_1} \oplus \Hom_R\br{A, B_2} $.
\item Then we can define
$$ \function[\alpha_*]{\Hom_R\br{M, A}}{\Hom_R\br{M, B}}{f}{\alpha \circ f}, \qquad f : M \to A. $$
\item We can also define
$$ \function[\alpha^*]{\Hom_R\br{B, M}}{\Hom_R\br{A, M}}{g}{g \circ \alpha}, \qquad g : B \to M. $$
\end{itemize}
\end{proposition}

Thus Hom is a bifunctor between the category of $ R $-modules and the category of abelian groups, additive in both arguments, covariant in the second argument and contravariant in the first argument.
\begin{itemize}
\item Bi means Hom takes two arguments.
\item Functor means that homomorphisms between $ R $-modules turn into abelian group homomorphisms.
\item Covariant means the homomorphism goes in the same direction.
\item Contravariant means the direction gets reversed.
\item Additive in both arguments means Hom respects direct sums.
\end{itemize}

\begin{proposition}
Suppose $ \alpha : A \to B $ is surjective. Then $ \alpha^* : \Hom_R\br{B, M} \to \Hom_R\br{A, M} $ is injective.
\end{proposition}

\begin{proof}
Suppose $ f_1, f_2 : B \to M $ are such that $ \alpha^*\br{f_1} = \alpha^*\br{f_2} $. Then $ f_1 \circ \alpha = f_2 \circ \alpha $, so $ \br{f_1 \circ \alpha}\br{a} = \br{f_2 \circ \alpha}\br{a} $ for all $ a \in A $. Let $ b \in B $. Then $ b = \alpha\br{a} $ for some $ a $, since $ \alpha $ is surjective, so $ f_1\br{b} = \br{f_1 \circ \alpha}\br{a} = \br{f_2 \circ \alpha}\br{a} = f_2\br{b} $, so $ f_1 = f_2 $.
\end{proof}

\begin{proposition}
Suppose $ \alpha : A \to B $ is injective. Then $ \alpha_* : \Hom_R\br{M, A} \to \Hom_R\br{M, B} $ is injective.
\end{proposition}

\begin{proof}
Suppose $ f_1, f_2 : M \to A $, and $ \alpha_*\br{f_1} = \alpha_*\br{f_2} $. Then $ \alpha \circ f_1 = \alpha \circ f_2 $, so $ \br{\alpha \circ f_1}\br{m} = \br{\alpha \circ f_2}\br{m} $ for all $ m \in M $. But $ \alpha $ is injective, so this implies $ f_1\br{m} = f_2\br{m} $ for all $ m \in M $.
\end{proof}

\pagebreak

\begin{proposition}
Suppose
$$ 0 \to A \xrightarrow{\alpha} B \xrightarrow{\beta} C \to 0 $$
is a short exact sequence of $ R $-modules. Then we have an exact sequence
$$ 0 \to \Hom_R\br{C, M} \xrightarrow{\beta^*} \Hom_R\br{B, M} \xrightarrow{\alpha^*} \Hom_R\br{A, M}. $$
\end{proposition}

\begin{proof}
This is exact at $ \Hom_R\br{C, M} $, since $ \beta^* $ is injective. Claim that the sequence is also exact at $ \Hom_R\br{B, M} $, so it is an exact sequence. It is not necessarily a short exact sequence since $ \alpha^* $ is not generally surjective. Let $ g : B \to M $. We have
$$ g \in \Ker \alpha^* \iff \alpha^*\br{g} = 0 \iff g \circ \alpha = 0 \iff g\br{\alpha\br{A}} = 0 \iff \Im \alpha \le \Ker g \iff \Ker \beta \le \Ker g, $$
Then $ g \in \Ker \alpha^* $ if and only if for all $ b_1, b_2 \in B $, $ \beta\br{b_1} = \beta\br{b_2} $ implies that $ g\br{b_1} = g\br{b_2} $, which is if and only if the map defined by
$$ \function[f]{C}{M}{c}{g\br{b}}, \qquad \beta\br{b} = c $$
is well-defined, since $ \beta $ is surjective, and $ f $ is an $ R $-module homomorphism. Thus
$$ g \in \Ker \alpha^* \qquad \iff \qquad \exists f \in \Hom_R\br{C, M}, \ \beta^*\br{f} = g \qquad \iff \qquad g \in \Im \beta^*. $$
Hence $ \Ker \alpha^* = \Im \beta^* $. So the sequence is exact at $ \Hom_R\br{B, M} $.
\end{proof}

\lecture{7}{Friday}{24/01/20}

\begin{example*}
These examples show that $ \alpha : A \to B $ is injective does not imply $ \alpha^* : \Hom_R\br{B, M} \to \Hom_R\br{A, M} $ is surjective.
\begin{itemize}
\item The inclusion $ \alpha : \ZZ \to \QQ $ is a $ \ZZ $-module homomorphism. Let $ M = \ZZ $. Then we get $ \alpha^* : \Hom_\ZZ\br{\QQ, \ZZ} \to \Hom_\ZZ\br{\ZZ, \ZZ} $. Then $ \alpha $ is injective, but $ \alpha^* $ is not surjective. Why is this? In fact $ \Hom_\ZZ\br{\QQ, \ZZ} = 0 $. Suppose
$$ \function[f]{\QQ}{\ZZ}{1}{k \ne 0}. $$
Suppose $ p \nmid k $. Then there is no possible image for $ 1 / p \in \QQ $, since we would require $ pf\br{1 / p} = f\br{1} = k $. But $ \Hom_\ZZ\br{\ZZ, \ZZ} \cong \ZZ $, so $ \alpha^* $ is not surjective.
\item Let $ \alpha : k\ZZ \to \ZZ $ be the inclusion, so $ \alpha $ is injective and not surjective. Let $ M = \ZZ $. So we get $ \alpha^* : \Hom_\ZZ\br{\ZZ, \ZZ} \to \Hom_\ZZ\br{k\ZZ, \ZZ} $. Suppose that $ g \in \Im \alpha^* $. Then $ g = f \circ \alpha $, where $ f : \ZZ \to \ZZ $. Then $ g\br{k} = f\br{k} = kf\br{1} $, so $ \Im g \le k\ZZ $. But there exists $ g \in \Hom_\ZZ\br{k\ZZ, \ZZ} $ such that $ g\br{k} = 1 $. So this $ g \notin \Im \alpha^* $, so $ \alpha^* $ is not surjective.
\end{itemize}
\end{example*}

\begin{proposition}
Let
$$ 0 \to A \xrightarrow{\alpha} B \xrightarrow{\beta} C \to 0 $$
be exact. Then
$$ 0 \to \Hom_R\br{M, A} \xrightarrow{\alpha_*} \Hom_R\br{M, B} \xrightarrow{\beta_*} \Hom_R\br{M, C} $$
is exact.
\end{proposition}

\begin{proof}
We already know that $ \alpha $ injective implies that $ \alpha_* $ is injective, so the sequence is exact at $ \Hom_R\br{M, A} $. We show that $ \Ker \beta_* = \Im \alpha_* $. Suppose $ g \in \Hom_R\br{M, B} $. Then
$$ g \in \Ker \beta_* \qquad \iff \qquad \br{\beta \circ g}\br{M} = 0 \qquad \iff \qquad \Im g \le \Ker \beta \qquad \iff \qquad \Im g \le \Im \alpha. $$
Note there exists $ \alpha^{-1} : \Im \alpha \to A $. If $ \Im g \le \Im \alpha $, then $ \alpha^{-1} \circ g : M \to A $. If $ f = \alpha^{-1} \circ g $, then $ \alpha \circ f = g $, so $ g \in \Im \alpha_* $. Conversely, if $ g \in \Im \alpha_* $, then $ g = \alpha \circ f $ for some $ f \in \Hom_R\br{M, A} $ and so $ \Im g \le \Im \alpha $. So
$$ g \in \Ker \beta_* \qquad \iff \qquad \Im g \le \Im \alpha \qquad \iff \qquad g \in \Im \alpha_*. $$
Hence $ \Ker \beta_* = \Im \alpha_* $. So the sequence is exact at $ \Hom_R\br{M, B} $.
\end{proof}

\pagebreak

\begin{example*}
These examples show that $ \beta : B \to C $ is surjective does not imply $ \beta_* : \Hom_R\br{M, B} \to \Hom_R\br{M, C} $ is surjective.
\begin{itemize}
\item Let
$$ \function[\beta]{\sum_{q \in \QQ} \ZZ}{\QQ}{e_q}{q}. $$
In general $ \beta : \sum_{m \in M} R \to M $ defined by mapping the basis vector $ e_m $ to $ m $, is a surjective homomorphism, so $ \beta $ is surjective. Let $ M = \QQ $. So we get $ \beta_* : \Hom_\ZZ\br{\QQ, \sum_{q \in \QQ} \ZZ} \to \Hom_\ZZ\br{\QQ, \QQ} $. Claim that $ \Hom_\ZZ\br{\QQ, \sum_{q \in \QQ} \ZZ} $ is trivial. Suppose $ f : \QQ \to \sum_{q \in \QQ} \ZZ $ is not zero. Suppose $ f\br{q_0} \ne 0 $. Then there exist $ q_1, \dots, q_t \in \QQ $ and $ a_1, \dots, a_t \in \ZZ $ such that $ f\br{q_0} = \sum_{i = 1}^t a_ie_{q_i} $. Now the projection of $ \sum_{q \in \QQ} \ZZ $ onto $ \ZZ e_{q_1} $ is a non-trivial $ \ZZ $-module homomorphism. But $ \ZZ e_{q_1} \cong \ZZ $, and so no non-trivial map $ \QQ \to \ZZ e_{q_1} $ exists. But $ \Hom_\ZZ\br{\QQ, \QQ} $ is not trivial, so $ \beta_* $ is not surjective.
\item Let
$$ 0 \to \ZZ_2 \to \ZZ_4 \to \ZZ_2 \to 0 $$
be a short exact sequence of $ \ZZ $-modules. Then we have
$$
\begin{tikzcd}[row sep=tiny]
0 \arrow{r} & \Hom_\ZZ\br{\ZZ_2, \ZZ_2} \arrow{r}{\alpha_*} \arrow[cong]{d} & \Hom_\ZZ\br{\ZZ_2, \ZZ_4} \arrow{r}{\beta_*} \arrow[cong]{d} & \Hom_\ZZ\br{\ZZ_2, \ZZ_2} \arrow[cong]{d} \\
& \ZZ_2 & \ZZ_2 & \ZZ_2
\end{tikzcd}.
$$
But there is no short exact sequence of abelian groups
$$ 0 \to \ZZ_2 \to \ZZ_2 \to \ZZ_2 \to 0, $$
and so $ \beta_* $ cannot be surjective.
\end{itemize}
\end{example*}

\begin{proposition}
Let $ M $ be an $ R $-module. Then $ M $ is injective if and only if for every injective map $ \alpha : A \to B $, we get $ \alpha^* : \Hom_R\br{B, M} \to \Hom_R\br{A, M} $ is surjective.
\end{proposition}

\begin{proof}
$ M $ is injective if and only if for all injective $ \alpha : A \to B $, for all $ f \in \Hom_R\br{A, M} $, there exists $ g \in \Hom_R\br{B, M} $ such that $ f = g \circ \alpha $, so $ f = \alpha^*\br{g} $. This is if and only if for all injective $ \alpha : A \to B $, $ f \in \Im \alpha^* $ for all $ f \in \Hom_R\br{A, M} $, which is if and only if $ \alpha^* $ is surjective.
\end{proof}

\begin{proposition}
Let $ M $ be an $ R $-module. Then $ M $ is projective if and only if whenever $ \beta : B \to C $ is surjective, the map $ \beta_* : \Hom_R\br{M, B} \to \Hom_R\br{M, C} $ is surjective.
\end{proposition}

\begin{proof}
$ M $ is projective if and only if whenever $ \beta : B \to C $ is surjective, and $ f \in \Hom_R\br{M, C} $, there exists $ g \in \Hom_R\br{M, B} $ such that $ f = \beta \circ g $. This is if and only if whenever $ \beta : B \to C $ is surjective, and $ f \in \Hom_R\br{M, C} $, then $ f \in \Im \beta_* $, which is if and only if $ \beta_* $ is surjective.
\end{proof}

\subsection{The snake lemma}

\lecture{8}{Monday}{27/01/20}

Let $ \alpha : A \to B $ be an $ R $-module homomorphism. The \textbf{cokernel} of $ \alpha $ is $ B / \Im \alpha $, written $ \Coker \alpha $. The sequence
$$ 0 \to \Ker \alpha \to A \xrightarrow{\alpha} B \to \Coker \alpha \to 0 $$
is exact.

\begin{lemma}[The snake lemma]
Suppose we have a commutative diagram
$$
\begin{tikzcd}
& A \arrow{r}{\alpha} \arrow{d}{f} & B \arrow{r}{\beta} \arrow{d}{g} & C \arrow{r} \arrow{d}{h} & 0 \\
0 \arrow{r} & X \arrow{r}{\phi} & Y \arrow{r}{\psi} & Z &
\end{tikzcd},
$$
where the rows are exact. Then we obtain an exact sequence
$$ \Ker f \xrightarrow{\overline{\alpha}} \Ker g \xrightarrow{\overline{\beta}} \Ker h \xrightarrow{\delta} \Coker f \xrightarrow{\overline{\phi}} \Coker g \xrightarrow{\overline{\psi}} \Coker h. $$
\end{lemma}

\pagebreak

\begin{proof}
\hfill
\begin{itemize}
\item The maps $ \overline{\alpha} : \Ker f \to \Ker g $ and $ \overline{\beta} : \Ker g \to \Ker h $ are obtained simply by restricting $ \alpha $ and $ \beta $ respectively. Observe that if $ a \in \Ker f $ then $ f\br{a} = 0 $, so $ \br{\phi \circ f}\br{a} = 0 $. But $ \phi \circ f = g \circ \overline{\alpha} $, and so $ \br{g \circ \overline{\alpha}}\br{a} = 0 $, so $ \overline{\alpha}\br{a} \in \Ker g $, which is what we wanted.
\item The maps $ \overline{\phi} : \Coker f \to \Coker g $ and $ \overline{\psi} : \Coker g \to \Coker h $ are induced from $ \phi $ and $ \psi $ by
$$ \overline{\phi}\br{x + \Im f} = \phi\br{x} + \Im g, \qquad \overline{\psi}\br{y + \Im g} = \psi\br{g} + \Im h. $$
Check that these maps make sense. Suppose $ x_1 + \Im f = x_2 + \Im f $. Then $ x_1 - x_2 \in \Im f $, so there exists $ a \in A $ such that $ f\br{a} = x_1 - x_2 $. Now
$$ \phi\br{x_1} - \phi\br{x_2} = \phi\br{x_1 - x_2} = \br{\phi \circ f}\br{a} = \br{g \circ \alpha}\br{a} \in \Im g. $$
So $ \phi\br{x_1} + \Im g = \phi\br{x_2} + \Im g $. So $ \overline{\phi} $ is well-defined, and $ \overline{\psi} $ is shown to be well-defined by a similar argument.
\item How is the \textbf{connecting homomorphism} $ \delta $ defined? Since $ \beta $ is surjective, for all $ c \in C $, there exists $ b \in B $ with $ \beta\br{b} = c $. Suppose $ c \in \Ker h $. Then $ \br{h \circ \beta}\br{b} = 0 $, so $ \br{\psi \circ g}\br{b} = 0 $. Hence $ g\br{b} \in \Ker \psi = \Im \phi $. Define
$$ \delta\br{c} = x + \Im f, \qquad \phi\br{x} = g\br{b}, \qquad \beta\br{b} = c. $$
Check this is well-defined. Suppose $ b_1, b_2, x_1, x_2 $ are such that $ \phi\br{x_1} = g\br{b_1} $ and $ \phi\br{x_2} = g\br{b_2} $, and $ \beta\br{b_1} = \beta\br{b_2} = c $. We have $ b_1 - b_2 \in \Ker \beta = \Im \alpha $. So $ b_1 - b_2 = \alpha\br{a} $ for some $ a \in A $. Then
$$ \br{\phi \circ f}\br{a} = \br{g \circ \alpha}\br{a} = g\br{b_1 - b_2} = g\br{b_1} - g\br{b_2} = \phi\br{x_1} - \phi\br{x_2} = \phi\br{x_1 - x_2}. $$
But $ \phi $ is injective, and so $ f\br{a} = x_1 - x_2 $, and so $ x_1 + \Im f = x_2 + \Im f $. So $ \delta $ is well-defined.
\end{itemize}
Exactness of the sequence is an exercise, on problem sheet.
\end{proof}

\subsection{Tensor products}

\begin{definition}
Let $ M $ be a left $ R $-module, and let $ L $ be a right $ R $-module. The \textbf{tensor product} $ L \otimes_R M $ is an abelian group generated as an abelian group by a set of \textbf{pure tensors}
$$ \cbr{l \otimes m \st l \in L, \ m \in M}, $$
subject to the relations
$$ l_1 \otimes m + l_2 \otimes m = \br{l_1 + l_2} \otimes m, \qquad l_1, l_2 \in L, \qquad m \in M, $$
$$ l \otimes m_1 + l \otimes m_2 = l \otimes \br{m_1 + m_2}, \qquad l \in L, \qquad m_1, m_2 \in M, $$
$$ \br{lr} \otimes m = l \otimes \br{rm}, \qquad l \in L, \qquad m \in M, \qquad r \in R. $$
\end{definition}

The following are observations.
\begin{itemize}
\item In general, not every element of $ L \otimes_R M $ is a pure tensor. A general element of $ L \otimes_R M $ is a $ \ZZ $-linear combination of pure tensors.
\item If $ R $ is commutative, $ L $ can be a left module, since left and right modules are the same. Also, in this case, $ L \otimes_R M $ has an $ R $-module structure, by $ r\br{l \otimes m} = rl \otimes m $.
\item Suppose that $ S $ is a set of generators for $ L $, as an abelian group, and $ T $ is a set of generators for $ M $, as an abelian group. Then a smaller generating set for $ L \otimes_R M $ is $ \cbr{s \otimes t \st s \in S, \ t \in T} $. This is because if
$$ l = \sum_{i = 1}^p a_is_i, \qquad m = \sum_{i = 1}^q b_jt_j, \qquad s_i \in S, \qquad t_i \in T, \qquad a_i, b_i \in \ZZ, $$
then, from the relations,
$$ l \otimes m = \sum_{i = 1}^p \sum_{j = 1}^q a_ib_j\br{s_i \otimes t_j}. $$
\end{itemize}

\begin{example*}
Tensor products can be counter intuitive, such as $ \ZZ_2 \otimes_\ZZ \ZZ_3 = 0 $. Why? Observe that for $ x \in \ZZ_2 $, $ x3 = 3x = x $. So for all $ x \in \ZZ_2 $ and $ y \in \ZZ_3 $,
$$ x \otimes y = x3 \otimes y = x \otimes 3y = x \otimes 0 = x \otimes y - x \otimes y = 0. $$
\end{example*}

\lecture{9}{Tuesday}{28/01/20}

\begin{theorem}[Universal property of tensor products]
Let $ A $ be a right $ R $-module and $ B $ a left $ R $-module. Let $ C $ be an abelian group. Let $ f : A \times B \to C $ be a map, not necessarily a homomorphism, which is $ \ZZ $-linear in both arguments, so
$$ f\br{a_1 + a_2, b} = f\br{a_1, b} + f\br{a_2, b}, \qquad a_1, a_2 \in A, \qquad b \in B, $$
$$ f\br{a, b_1 + b_2} = f\br{a, b_1} + f\br{a, b_2}, \qquad a \in A, \qquad b_1, b_2 \in B, $$
and such that
$$ f\br{ar, b} = f\br{a, rb}, \qquad a \in A, \qquad b \in B, \qquad r \in R. $$
Then there is a unique homomorphism
$$ \function[g]{A \otimes_R B}{C}{a \otimes b}{f\br{a, b}}. $$
\end{theorem}

\begin{proof}
In formal group theoretic terms, the tensor product $ A \otimes_R B $ is a quotient $ F / K $, where $ F $ is the free abelian group on the set of pure tensors $ a \otimes b $, and $ K $ is the subgroup of $ F $ generated by elements of the form
$$ \br{a_1 + a_2} \otimes b - a_1 \otimes b - a_2 \otimes b, \qquad a \otimes \br{b_1 + b_2} - a \otimes b_1 - a \otimes b_2, \qquad ar \otimes b - a \otimes rb. $$
The universal property of free abelian groups states that if $ F $ is free abelian on a set $ S $, then any set map $ S \to C $, for $ C $ an abelian group, extends uniquely to a homomorphism $ F \to C $. In the situation under discussion, we have a map
$$ g' : \cbr{a \otimes b \st a \in A, \ b \in B} \to C. $$
So $ g' $ extends uniquely to a homomorphism $ F \to C $. The conditions stipulated on $ f $ guarantee that $ g'\br{K} = 0 $. So $ g' $ induces a map $ g : F / K \to C $, which is what we want, since $ F / K = A \otimes_R B $. This establishes the existence of $ g $. Since the images of the pure tensors under $ g $ are specified, it is clear that $ g $ is unique.
\end{proof}

\begin{corollary}
\hfill
\begin{enumerate}
\item Let $ M $ be a left $ R $-module. Then $ R \otimes_R M \cong M $, via the map
$$ \function[f]{M}{R \otimes_R M}{m}{1 \otimes m}. $$
\item Let $ M $ be a right $ R $-module. Then $ M \otimes_R R \cong M $.
\end{enumerate}
\end{corollary}

\begin{proof}
\hfill
\begin{enumerate}
\item It is clear that $ f $ is a homomorphism of abelian groups. Now $ r \otimes m = 1 \otimes rm $, so $ R \otimes_R M $ is generated by $ \cbr{1 \otimes m \st m \in M} $, so $ f $ is surjective. For injectivity of $ f $, we need the universal property. Define a bilinear map
$$ \function{R \times M}{M}{\br{r, m}}{rm}. $$
This induces a homomorphism
$$ \function[g]{R \otimes_R M}{M}{r \otimes m}{rm}. $$
It is easy to check that $ g $ is an inverse for $ f $, so $ f $ is bijective.
\item By the same argument as $ 1 $.
\end{enumerate}
\end{proof}

\pagebreak

\begin{corollary}
Let $ A $ and $ B $ be right $ R $-modules, and let $ C $ be a left $ R $-module.
\begin{enumerate}
\item $ \br{A \oplus B} \otimes_R C \cong \br{A \otimes_R C} \oplus \br{B \otimes_R C} $, via the map
$$ \function[f]{\br{A \oplus B} \otimes_R C}{\br{A \otimes_R C} \oplus \br{B \otimes_R C}}{\br{a, b} \otimes c}{\br{a \otimes c, b \otimes c}}. $$
\item $ A \otimes_R \br{B \oplus C} \cong \br{A \otimes_R B} \oplus \br{A \otimes_R C} $.
\end{enumerate}
\end{corollary}

\begin{proof}
\hfill
\begin{enumerate}
\item Take a bilinear map, that is $ \ZZ $-bilinear in both arguments, and respecting $ R $-multiplication,
$$ \function{A \oplus B \times C}{\br{A \otimes_R C} \oplus \br{B \otimes_R C}}{\br{\br{a, b}, c}}{\br{a \otimes c, b \otimes c}}. $$
This induces a homomorphism $ f : \br{A \oplus B} \otimes_R C \to \br{A \otimes_R C} \oplus \br{B \otimes_R C} $ with the description as given above. Now take the bilinear map given by
$$ \function{A \times C}{\br{A \oplus B} \otimes_R C}{\br{a, c}}{\br{a, 0} \otimes c}. $$
This induces a homomorphism $ g_1 : A \otimes_R C \to \br{A \oplus B} \otimes_R C $. Similarly, we get a homomorphism $ g_2 : B \otimes_R C \to \br{A \oplus B} \otimes_R C $. Now define
$$ \function[g = g_1 \oplus g_2]{\br{A \otimes_R C} \oplus \br{B \otimes_R C}}{\br{A \oplus B} \otimes_R C}{\br{x, y}}{g_1\br{x} + g_2\br{y}}. $$
It is easy to check that $ f $ and $ g $ are mutually inverse, so both isomorphisms.
\item Similarly.
\end{enumerate}
\end{proof}

\begin{corollary}
Let $ A $ be an abelian group. Then
\begin{enumerate}
\item $ \ZZ_n \otimes_\ZZ A \cong A / nA $, and
\item $ A \otimes_\ZZ \ZZ_n \cong A / nA $.
\end{enumerate}
\end{corollary}

\begin{proof}
\hfill
\begin{enumerate}
\item Define a map by
$$ \function[f]{A}{\ZZ_n \otimes_\ZZ A}{a}{1 \otimes a}. $$
Suppose $ a_0 \in A $ such that $ a_0 = na $ for some $ a $. Then $ f\br{a_0} = 1 \otimes a_0 = 1 \otimes na = n \otimes a = 0 $ so $ nA \le \Ker f $. So $ f $ induces a map
$$ \overline{f} : A / nA \to \ZZ_n \otimes_\ZZ A. $$
Notice that the pure tensor $ k \otimes a $ is equal to $ 1 \otimes ka $, so $ \ZZ_n \otimes_\ZZ A $ is generated by $ \cbr{1 \otimes a \st a \in A} $. So $ \overline{f} $ is surjective. For injectivity, use the universal property. We have a bilinear map
$$ \function[g]{\ZZ_n \times A}{A / nA}{\br{k, a}}{ka + nA}. $$
This is well-defined and bilinear. So extends to a homomorphism
$$ \overline{g} : \ZZ_n \otimes_\ZZ A \to A / nA. $$
It is easy to check that $ \overline{g} \circ \overline{f} = \id_{A / nA} $, so $ \overline{f} $ is injective.
\item Similarly.
\end{enumerate}
\end{proof}

\pagebreak

\lecture{10}{Friday}{31/01/20}

\begin{proposition}
Let $ \alpha : A \to B $ be a homomorphism of right $ R $-modules. Let $ M $ be a left $ R $-module. There is a unique abelian group homomorphism
$$ \function[\alpha']{A \otimes_R M}{B \otimes_R M}{a \otimes m}{\alpha\br{a} \otimes m}, \qquad a \in A, \qquad m \in M. $$
\end{proposition}

\begin{proof}
The set map defined by
$$ \function[f]{A \times M}{B \otimes_R M}{\br{a, m}}{\alpha\br{a} \otimes m} $$
is linear in both arguments, and we have
$$ f\br{ar, m} = \alpha\br{ar} \otimes m = \alpha\br{a}r \otimes m = \alpha\br{a} \otimes rm = f\br{a, rm}. $$
Now by the universal property of tensor products, $ f $ gives rise to a unique homomorphism $ \alpha' : A \otimes_R M \to B \otimes_R M $ with the properties claimed.
\end{proof}

\begin{proposition}
Suppose $ \alpha : A \to B $ is surjective. Then $ \alpha' : A \otimes_R M \to B \otimes_R M $ is surjective.
\end{proposition}

\begin{proof}
Since $ \alpha $ is surjective, every pure tensor $ b \otimes m \in B \otimes_R M $ is equal to $ \alpha\br{a} \otimes m $ for some $ a \in A $. So $ b \otimes m = \alpha'\br{a \otimes m} \in \Im \alpha' $. Since $ B \otimes_R M $ is generated by its pure tensors, $ \alpha' $ is surjective.
\end{proof}

An observation is that it is not true that $ A \to B $ is injective implies $ A \otimes_R M \to B \otimes_R M $ is injective.

\begin{example*}
Let
$$ \function[\alpha]{\ZZ_2}{\ZZ_4}{1}{2}, $$
which is injective. Consider
$$ \function[\alpha']{\ZZ_2 \otimes_\ZZ \ZZ_2 \cong \ZZ_2}{\ZZ_4 \otimes_\ZZ \ZZ_2}{1 \otimes 1}{2 \otimes 1 = 1 \otimes 2 = 0}. $$
So $ \alpha' $ is the zero map, which is not injective.
\end{example*}

\begin{proposition}
Let
$$ 0 \to A \xrightarrow{\alpha} B \xrightarrow{\beta} C \to 0 $$
be a short exact sequence of right $ R $-modules. Then the sequence
$$ A \otimes_R M \xrightarrow{\alpha'} B \otimes_R M \xrightarrow{\beta'} C \otimes_R M \to 0 $$
is exact.
\end{proposition}

\begin{proof}
Since $ \beta' $ is surjective, the sequence is exact at $ C \otimes_R M $. We show it is exact at $ B \otimes_R M $. Since $ \beta $ is surjective, for every $ c \in C $, there exists $ f\br{c} \in B $ such that $ \beta\br{f\br{c}} = c $. Here $ f $ is a set map $ C \to B $, which is not uniquely defined in general. Suppose that $ \beta\br{b} = c $. Then $ b - f\br{c} \in \Ker \beta = \Im \alpha $, so $ f\br{c} + \Im \alpha = b + \Im \alpha $. Define a set map by
$$ \function[g]{C \times M}{\br{B \otimes_R M} / \Im \alpha'}{\br{c, m}}{f\br{c} \otimes m + \Im \alpha'}. $$
Note that if $ \beta\br{b} = c $, then $ b \otimes m - f\br{c} \otimes m = \alpha\br{a} \otimes m \in \Im \alpha' $ for some $ a \in A $. We can check that $ g $ is linear in both arguments. For example, for the first argument, we have $ g\br{c_1 + c_2, m} = f\br{c_1 + c_2} \otimes m + \Im \alpha' $. Now $ \beta\br{f\br{c_1 + c_2}} = c_1 + c_2 = \beta\br{f\br{c_1}} + \beta\br{f\br{c_2}} = \beta\br{f\br{c_1} + f\br{c_2}} $ so
$$ g\br{c_1 + c_2, m} = \br{f\br{c_1} + f\br{c_2}} \otimes m + \Im \alpha' = f\br{c_1} \otimes m + f\br{c_2} \otimes m + \Im \alpha' = g\br{c_1, m} + g\br{c_2, m}. $$
Also, we have $ g\br{cr, m} = f\br{cr} \otimes m + \Im \alpha' $. But $ \beta\br{f\br{cr}} = cr = \beta\br{f\br{c}r} $, so $ f\br{cr} \otimes m + \Im \alpha' = f\br{c}r \otimes m + \Im \alpha' $. So
$$ g\br{cr, m} = f\br{c}r \otimes m + \Im \alpha' = f\br{c} \otimes rm + \Im \alpha' = g\br{c, rm}. $$

\pagebreak

By the universal property, there is a unique homomorphism
$$ \function[\psi]{C \otimes_R M}{\br{B \otimes_R M} / \Im \alpha'}{c \otimes m}{f\br{c} \otimes m + \Im \alpha'}. $$
Next observe that $ \br{\beta' \circ \alpha'}\br{a \otimes m} = \br{\beta \circ \alpha}\br{a} \otimes m = 0 $, since $ \Im \alpha = \Ker \beta $. Since $ A \otimes_R M $ is generated by pure tensors, we have $ \beta' \circ \alpha' = 0 $. So $ \Im \alpha' \le \Ker \beta' $. Hence $ \beta' $ induces a map
$$ \phi : \br{B \otimes_R M} / \Im \alpha' \to C \otimes_R M. $$
It is easy to check that $ \phi $ and $ \psi $ are mutually inverse, and so both are isomorphisms. In particular $ \phi $ is injective, and so $ \Im \alpha' = \Ker \beta' $ as required.
\end{proof}

\subsection{Flat modules}

\begin{definition}
A left $ R $-module $ M $ is \textbf{flat} if $ A \to B $ is injective implies that $ A \otimes_R M \to B \otimes_R M $ is injective.
\end{definition}

If $ M $ is flat then any short exact sequence of right $ R $-modules
$$ 0 \to A \to B \to C \to 0 $$
corresponds to a short exact sequence of abelian groups
$$ 0 \to A \otimes_R M \to B \otimes_R M \to C \otimes_R M \to 0. $$

\begin{proposition}
\label{prop:projectiveflat}
Every projective module is flat.
\end{proposition}

This follows from two lemmas.

\begin{lemma}
\label{lem:projectiveflat1}
$ P \oplus Q $ is flat if and only if $ P $ and $ Q $ are both flat.
\end{lemma}

\begin{proof}
Recall there is a canonical isomorphism
$$ A \otimes_R \br{P \oplus Q} \cong \br{A \otimes_R P} \oplus \br{A \otimes_R Q}. $$
Suppose $ \alpha : A \to B $ is injective. Then $ \alpha' : A \otimes_R \br{P \oplus Q} \to B \otimes_R \br{P \oplus Q} $ corresponds to
$$ \functions[\overline{\alpha'}]{\br{A \otimes_R P} \oplus \br{A \otimes_R Q}}{\br{B \otimes_R P} \oplus \br{B \otimes_R Q}}{\br{a \otimes p, 0}}{\br{\alpha\br{a} \otimes p, 0}}{\br{0, a \otimes q}}{\br{0, \alpha\br{a} \otimes q}}. $$
It is clear from this that $ \overline{\alpha'} $ is injective if and only if $ A \otimes_R P \to B \otimes_R P $ and $ A \otimes_R Q \to B \otimes_R Q $ are injective, and Lemma \ref{lem:projectiveflat1} follows immediately.
\end{proof}

\begin{lemma}
\label{lem:projectiveflat2}
Every free $ R $-module is flat.
\end{lemma}

\lecture{11}{Monday}{03/02/20}

Lecture 11 is a problems class.

\lecture{12}{Tuesday}{04/02/20}

\begin{proof}
We know $ \br{A \oplus B} \otimes_R C \cong \br{A \otimes_R C} \oplus \br{B \otimes_R C} $. Similarly,
$$ \br{\bigoplus_{s \in S} A_s} \otimes_R C \cong \bigoplus_{s \in S} \br{A_s \otimes_R C}. $$
So Lemma \ref{lem:projectiveflat1} generalises, so $ \bigoplus_{s \in S} A_s $ is flat if and only if all of the $ A_s $ is flat for $ s \in S $. Let $ F $ be free. Then $ F = \bigoplus_{s \in S} R $, and so $ F $ is flat if and only if $ R $ is flat. But for any $ R $-module in $ A $, we have $ A \otimes_R R \cong A $, so
$$
\begin{tikzcd}[row sep=tiny]
A \arrow{r}{\alpha} \arrow[cong]{d} & B \arrow[cong]{d} \\
A \otimes_R R \arrow[dashed, swap]{r}{\alpha'} & B \otimes_R R
\end{tikzcd},
$$
and it is easy to check that $ R $ is flat.
\end{proof}

\begin{proof}[Proof of Proposition \ref{prop:projectiveflat}]
Lemma \ref{lem:projectiveflat1} and Lemma \ref{lem:projectiveflat2} imply Proposition \ref{prop:projectiveflat}, since a projective module is a direct summand of a free module.
\end{proof}

\pagebreak

\section{Modules over a PID}

There exist flat modules which are not projective. We will show that $ \QQ $ as a module for $ \ZZ $ is flat, and it is easy to see it is not projective. To do this we will study the case of modules over a PID. Recall that $ R $ is an \textbf{integral domain} if $ R $ is commutative and $ rs = 0 $ implies that $ r = 0 $ or $ s = 0 $ for $ r, s \in R $. An integral domain is a \textbf{PID} if every ideal is $ \abr{a} = \cbr{ra \st r \in R} $ for some $ a \in R $.

\begin{example*}
The ring $ \ZZ $ is an example of a PID.
\end{example*}

\subsection{Free and projective modules}

\begin{proposition}
Let $ R $ be a PID. Then every projective $ R $-module is free. Equivalently, every summand of a free module is free.
\end{proposition}

In fact we will show that any submodule of a free module is free. Moreover, if $ F_1 \le F_2 $, where $ F_1 $ and $ F_2 $ are free, and if $ B_1 $ and $ B_2 $ are bases for $ F_1 $ and $ F_2 $ respectively, then $ \abs{B_1} \le \abs{B_2} $. In particular, if $ M \le R^n $, then $ M \cong R^m $ for some $ m \le n $. For this, we will need the well-ordering theorem.

\begin{theorem}[Well-ordering theorem]
Let $ X $ be a set. There exists a well-order $ \le $ on $ X $, that is a total order such that every non-empty subset of $ X $ has a least element.
\end{theorem}

\begin{corollary}[Transfinite induction]
Let $ X $ be a non-empty set well-ordered by $ \le $. Let $ x_0 $ be the least element of $ X $. Let $ S \subseteq X $. If $ x_0 \in S $, and $ s < t $ implies $ s \in S $ implies that $ t \in S $, then $ S = X $.
\end{corollary}

\begin{proof}
Let $ F = \bigoplus_{s \in S} R $. Let $ \le $ be a well-order on $ S $. For $ s \in S $, let $ \pi_s $ be the projection map $ F \to R $ onto the $ s $-coordinate. Let $ e_s $ be the element of $ F $ with one in coordinate $ s $, and zero elsewhere. Suppose $ U \le F $ is an $ R $-submodule of $ F $. Define $ R_t $ to be the submodule of $ F $ generated by $ \cbr{e_s \st s \le t} $, so
$$ R_t = \sp \cbr{e_s \st s \le t}. $$
So if $ t_1 \le t_2 $ then $ R_{t_1} \le R_{t_2} $. Let
$$ U_t = U \cap R_t. $$
So $ t_1 < t_2 $ implies that $ U_{t_1} \le U_{t_2} $. Consider $ \pi_s\br{U_s} $. This is an ideal of $ R $. Hence there exists $ a_s \in R $ such that $ \pi_s\br{U_s} = \abr{a_s} $, since $ R $ is a PID. For each $ s $, let $ u_s \in U_s $ be such that $ \pi_s\br{u_s} = a_s $. In cases where $ a_s = 0 $, assume $ u_s = 0 $. Let
$$ B = \cbr{u_s \st s \in S, \ u_s \ne 0}. $$
\begin{itemize}
\item Claim that $ B $ generates $ U $. We will actually prove that $ B_t = \cbr{u_s \st s \le t} $ generates $ U_t $, using transfinite induction. If $ s_0 $ is the least element of $ S $, it is easy to see that $ B_{s_0} = \cbr{u_{s_0}} $ generates $ U_{s_0} $. Suppose $ B_t $ generates $ U_t $ for all $ t < t_0 $. Let $ u \in U_{t_0} $. Then $ \pi_{t_0}\br{u} = ra_{t_0} $. Hence $ \pi_{t_0}\br{u - ru_{t_0}} = 0 $. So $ u - ru_{t_0} $ has zero in the $ t_0 $-coordinate, so $ u - ru_{t_0} \in \sp \cbr{e_s \st s < t_0} $. Clearly $ u - ru_{t_0} \in U $. We have $ u - ru_{t_0} = \sum_{i = 1}^q r_ie_{s_i} $, where $ s_i < t_0 $, and $ s_1 < \dots < s_q $. Then
$$ u - ru_{t_0} \in U \cap R_{s_q} = U_{s_q} = \sp B_{s_q}, $$
by the inductive hypothesis. Hence $ u \in \sp \br{B_{s_q} \cup \cbr{u_{t_0}}} \subseteq \sp B_{t_0} $. Hence $ B_{t_0} $ generates $ U_{t_0} $, as required.
\item Next we show the linear independence of $ B $. Suppose we have a linear combination of elements of $ B $ equal to zero. Say $ \sum_{i = 1}^k r_iu_{s_i} = 0 $. Assume $ s_1 < \dots < s_k $. We have
$$ \pi_{s_k}\br{\sum_{i = 1}^k r_iu_{s_i}} = \sum_{i = 1}^k r_i\pi_{s_k}\br{u_{s_i}}. $$
Now $ u_{s_i} \in U_{s_i} \subseteq R_{s_i} $, and so $ \pi_{s_k}\br{u_{s_i}} = 0 $ if $ s_i < s_k $. Hence $ r_k\pi_{s_k}\br{u_{s_k}} = 0 $, so $ r_ka_{s_k} = 0 $. But $ a_{s_k} \ne 0 $, and $ R $ is an integral domain. So $ r_k = 0 $. It follows easily that $ r_i = 0 $ for all $ i $, so $ B $ is linearly independent.
\end{itemize}
We have shown that $ B $ is a basis for $ U $. Hence $ U $ is free. Since the elements of $ B $ are indexed by a subset of $ S $, we have $ \abs{B} \le \abs{S} $.
\end{proof}

\lecture{13}{Friday}{07/02/20}

Lecture 13 is a problems class.

\pagebreak

\subsection{Injective and divisible modules}

\lecture{14}{Monday}{10/02/20}

\begin{definition}
Let $ R $ be an integral domain, and $ M $ an $ R $-module. Let $ m \in M $. Say that $ m $ is \textbf{infinitely divisible} if for all $ r \in R \setminus \cbr{0} $ there exists $ l \in M $ such that $ rl = m $.
\end{definition}

\begin{proposition}
The divisible elements of $ M $ form a submodule $ \D\br{M} $.
\end{proposition}

\begin{proof}
Easy.
\end{proof}

\begin{definition}
If $ \D\br{M} = M $, then $ M $ is \textbf{divisible}.
\end{definition}

\begin{proposition}
Let $ R $ be an integral domain. Then if an $ R $-module $ M $ is injective then it is divisible.
\end{proposition}

\begin{proof}
Recall that for an integral domain $ R $, and $ a \in R \setminus \cbr{0} $, the map
$$ \function[f]{R}{\abr{a}}{r}{ra} $$
is an isomorphism. Suppose $ M $ is an injective $ R $-module. Let
$$ \function[g]{R}{M}{1}{m}. $$
Then $ g \circ f^{-1} $ is a homomorphism $ \abr{a} \to M $, and $ \br{g \circ f^{-1}}\br{a} = g\br{1} = m $. Now by Baer's criterion, there is a map $ h : R \to M $ extending $ g \circ f^{-1} $. Now $ ah\br{1} = h\br{a} = \br{g \circ f^{-1}}\br{a} = m $. Hence there exists $ l \in M $ such that $ al = m $. So $ m $ is a divisible element, and so $ M $ is divisible.
\end{proof}

\begin{proposition}
Let $ R $ be a PID. If $ M $ is a divisible $ R $-module then $ M $ is injective.
\end{proposition}

So divisible equals injective when $ R $ is a PID.

\begin{proof}
We use Baer's criterion. Let $ I $ be an ideal of $ R $, and $ f : I \to M $ an $ R $-module homomorphism. Since $ R $ is a PID, $ I = \abr{a} $ for some $ a \in R $. Suppose $ f\br{a} = m $. If $ a = 0 $ there is nothing to prove, since the zero map $ R \to M $ extends $ f $. So assume $ a \ne 0 $. Since $ m $ is divisible, there exists $ l \in M $ with $ al = m $. Now the map given by
$$ \function{R}{M}{1}{l} $$
extends $ f $. So Baer's criterion is satisfied, and so $ M $ is injective.
\end{proof}

\subsection{Flat and torsion-free modules}

\begin{definition}
Let $ R $ be an integral domain. Let $ M $ be an $ R $-module. Say that $ m \in M $ is a \textbf{torsion element} if there exists $ r \in R \setminus \cbr{0} $ such that $ rm = 0 $.
\end{definition}

\begin{proposition}
The torsion elements of $ M $ form a submodule $ \T\br{M} $.
\end{proposition}

\begin{proof}
Easy, using the fact that integral domains are commutative.
\end{proof}

\begin{definition}
If $ \T\br{M} = 0 $, then $ M $ is \textbf{torsion-free}. If $ \T\br{M} = M $, then $ M $ is a \textbf{torsion module}.
\end{definition}

\begin{proposition}
Let $ R $ be an integral domain. Let $ M $ be a flat $ R $-module. Then $ M $ is torsion-free.
\end{proposition}

\begin{proof}
Let $ a \in R \setminus \cbr{0} $. Then
$$ \function[f]{R}{R}{1}{a} $$
is an injective $ R $-module homomorphism. Suppose that $ M $ is flat. Then the map
$$ \function[g]{R \otimes_R M}{R \otimes_R M}{r \otimes m}{ra \otimes m = r \otimes am} $$
is injective. But $ R \otimes_R M $ is canonically isomorphic to $ M $, under which the map $ g $ corresponds to $ m \mapsto am $. Since $ g $ is injective, we have $ am \ne 0 $ for $ m \ne 0 $. Hence $ m $ is not a torsion element, if $ m \ne 0 $, and so $ M $ is torsion-free.
\end{proof}

\pagebreak

We now build up to the following.

\begin{proposition}
\label{prop:torsionflat}
Let $ R $ be a PID. If $ M $ is a torsion-free $ R $-module then $ M $ is flat.
\end{proposition}

The following is the strategy. We want to prove that whenever $ \alpha : A \to B $ is injective, so is $ \alpha' : A \otimes_R M \to B \otimes_R M $, where $ M $ is torsion-free.
\begin{enumerate}
\item Prove this in the case that $ B $ is free, and $ A $ is a submodule of $ B $, and $ \alpha $ is the inclusion map, by
\begin{itemize}
\item first reducing the problem to the case that $ A $ and $ B $ are finitely generated, so $ B \cong \RR^n $, and
\item then using induction on the rank $ n $ of $ B $.
\end{itemize}
\item Show the general case follows from $ 1 $.
\end{enumerate}

\begin{lemma}
\label{lem:torsionflat1}
Let $ R $ be a PID, let $ I = \abr{a} $ be an ideal of $ R $, and let $ M $ be a torsion-free $ R $-module. Then $ g : I \otimes_R M \to R \otimes_R M $ is injective.
\end{lemma}

\begin{proof}
The homomorphism given by
$$ \function{R}{I}{r}{ra} $$
gives a map $ f : R \otimes_R M \to I \otimes_R M $. Now $ g \circ f $ is a map
$$ \function{R \otimes_R M}{R \otimes_R M}{r}{ra}. $$
Now $ f $ is surjective, and $ g \circ f $ is injective, since $ R $ is an integral domain. But this implies that $ g $ is injective, as required.
\end{proof}

\begin{lemma}
\label{lem:torsionflat2}
Let $ A $ be a right $ R $-module. Let $ M $ be a left $ R $-module. Suppose $ \sum_{i = 1}^t \br{a_i \otimes m_i} = 0 $ in $ A \otimes_R M $. There exists a finitely generated submodule $ A_0 \le A $ such that $ a_i \in A_0 $ for all $ i $, and $ \sum_{i = 1}^t \br{a_i \otimes m_i} = 0 $ in $ A_0 \otimes_R M $.
\end{lemma}

\begin{proof}
Recall that
$$ A \otimes_R M = \F_{\ab}\br{A \times M} / K, $$
where $ K $ is generated by certain relators. If $ \sum_{i = 1}^t \br{a_i \otimes m_i} = 0 $ in $ A \otimes_R M $, then in $ \F_{\ab}\br{A \times M} $, we have $ \sum_{i = 1}^t \br{a_i \otimes m_i} \in K $. So there exist relators $ s_1, \dots, s_q $, or their negations, such that
$$ \sum_{i = 1}^t \br{a_i \otimes m_i} = \sum_{i = 1}^q s_i. $$
Only finitely many elements of $ A $ are involved in the relators $ s_1, \dots, s_q $. Let $ A_0 $ be generated by these together with $ a_1, \dots, a_t $. Then certainly $ a_i \in A_0 $ for all $ i $. And $ \sum_{i = 1}^t \br{a_i \otimes m_i} = \sum_{i = 1}^q s_i $ in $ \F_{\ab}\br{A_0 \times M} $ so $ \sum_{i = 1}^t \br{a_i \otimes m_i} = 0 $ in $ A_0 \otimes_R M $. Clearly $ A_0 $ is finitely generated.
\end{proof}

\lecture{15}{Tuesday}{11/02/20}

\begin{lemma}
\label{lem:torsionflat3}
Let $ F = \F\br{S} = \bigoplus_{s \in S} R $. Let $ U $ be a finitely generated submodule of $ F $. Then there exists a finite $ T \subseteq S $ such that $ U \le \F\br{T} $, and for any $ M $, the map $ \F\br{T} \otimes_R M \to \F\br{S} \otimes_R M $ is injective.
\end{lemma}

\begin{proof}
Let $ u_1, \dots, u_q $ be generators for $ U $. Every $ u_i $ is an $ R $-linear combination of elements of $ S $. Since each of these linear combinations mentions only finitely many elements of $ S $, there is a finite subset $ T \subseteq S $ such that every $ u_i $ is an $ R $-linear combination of elements of $ T $. So $ U \le \F\br{T} $. We have
$$ \F\br{S} = \F\br{T} \oplus \F\br{S \setminus T}, $$
and so
$$ \F\br{S} \otimes_R M \cong \br{\F\br{T} \otimes_R M} \oplus \br{\F\br{S \setminus T} \otimes_R M}. $$
It follows that the natural map $ \F\br{T} \otimes_R M \to \F\br{S} \otimes_R M $ is injective.
\end{proof}

\pagebreak

Lemma \ref{lem:torsionflat2} and Lemma \ref{lem:torsionflat3} tell us that if $ F $ is free and $ U \le F $, and if $ M $ is an $ R $-module, if $ U \otimes_R M \to F \otimes_R M $ is not injective, then there exists a finitely generated $ U_0 < U $ and a finite rank free submodule $ F_0 < F $ such that $ U_0 \otimes_R M \to F_0 \otimes_R M $ is not injective.

\begin{lemma}
\label{lem:torsionflat4}
Let $ R $ be a PID. Let $ F $ be free, and $ U \le F $. Let $ M $ be torsion-free. Then $ U \otimes_R M \to F \otimes_R M $ is injective.
\end{lemma}

\begin{proof}
We assume that $ F = R^n $. We do this by induction on $ n $.
\begin{itemize}[leftmargin=1.5in]
\item[Base case.] Let $ n = 1 $. So $ F $ is $ R $, and $ U $ is an ideal of $ R $. By Lemma \ref{lem:torsionflat1}, $ U \otimes_R M \to F \otimes_R M $ is injective in this case.
\item[Inductive hypothesis.] $ U \le F = R^{n - 1} $ implies that $ U \otimes_R M \to F \otimes_R M $ is injective.
\item[Inductive step.] Assume $ U \le F = R^n $. Write $ R^n = R \oplus R^{n - 1} $. So we have a short exact sequence
$$ 0 \to R \to R^n \to R^{n - 1} \to 0. $$
We also have a short exact sequence
$$ 0 \to U_1 \to U \to \pi_{R^{n - 1}}\br{U} \to 0, $$
where $ U_1 = U \cap \br{R \oplus 0^{n - 1}} $. Identifying $ R $ with $ R \oplus 0^{n - 1} $, we get a commuting diagram
$$
\begin{tikzcd}
0 \arrow{r} & U_1 \arrow{r} \arrow{d} & U \arrow{r} \arrow{d} & \pi_{R^{n - 1}}\br{U} \arrow{r} \arrow{d} & 0 \\
0 \arrow{r} & R \arrow{r} & R^n \arrow{r} & R^{n - 1} \arrow{r} & 0
\end{tikzcd},
$$
where the vertical maps are inclusions, and the rows are exact. Tensoring everything with $ M $, we get a new commuting diagram
$$
\begin{tikzcd}
& U_1 \otimes_R M \arrow{r} \arrow{d}{f} & U \otimes_R M \arrow{r} \arrow{d}{g} & \pi_{R^{n - 1}}\br{U} \otimes_R M \arrow{r} \arrow{d}{h} & 0 \\
0 \arrow{r} & R \otimes_R M \arrow{r} & R^n \otimes_R M \arrow{r} & R^{n - 1} \otimes_R M \arrow{r} & 0
\end{tikzcd}.
$$
The initial zero in the bottom row comes from the fact that
$$ 0 \to R \to R^n \to R^{n - 1} \to 0 $$
is split, since $ R^n = R \oplus R^{n - 1} $, and so
$$ R^n \otimes_R M \cong \br{R \otimes_R M} \oplus \br{R^{n - 1} \otimes_R M}. $$
Now $ f $ is injective by Lemma \ref{lem:torsionflat1}, and $ h $ is injective by the inductive hypothesis. The snake lemma tells us that the sequence
$$ \Ker f \to \Ker g \to \Ker h $$
is exact at $ \Ker g $. So
$$ 0 \to \Ker g \to 0 $$
is exact, and so $ \Ker g = 0 $. So $ g $ is injective, and this completes the induction.
\end{itemize}
\end{proof}

\pagebreak

\begin{proof}[Proof of Proposition \ref{prop:torsionflat}]
Prove that if $ \alpha : A \to B $ is injective, and $ M $ is torsion-free, over a PID $ R $, then $ \alpha' : A \otimes_R M \to B \otimes_R M $ is injective. There exists a free module $ F $ such that $ B $ is quotient of $ F $. So there is a short exact sequence
$$ 0 \to K \to F \xrightarrow{\delta} B \to 0. $$
Now $ A \cong \alpha A = \Im \alpha $. Let $ F_A $ be the $ \delta $-preimage of $ \alpha A $. Then $ K < F_A $, and we have another short exact sequence
$$ 0 \to K \to F_A \to \alpha A \to 0. $$
We have a commuting diagram
$$
\begin{tikzcd}
0 \arrow{r} & K \arrow{r} \arrow[cong]{d} & F_A \arrow{r} \arrow[hookrightarrow]{d} & \alpha A \arrow{r} \arrow[hookrightarrow]{d} & 0 \\
0 \arrow{r} & K \arrow{r} & F \arrow{r} & B \arrow{r} & 0
\end{tikzcd}.
$$
Tensoring with $ M $,
$$
\begin{tikzcd}
K \otimes_R M \arrow{r}{\beta} \arrow[cong]{d} & F_A \otimes_R M \arrow{r}{\gamma} \arrow{d}{f} & \alpha A \otimes_R M \arrow{r} \arrow{d}{g} & 0 \\
K \otimes_R M \arrow{r}{\delta} & F \otimes_R M \arrow{r}{\epsilon} & B \otimes_R M \arrow{r} & 0
\end{tikzcd}
$$
is commuting, and exact along rows. Let $ u \in \Ker g \le \alpha A \otimes_R M \cong A \otimes_R M $. Since $ \gamma $ is surjective, there is $ w \in F_A \otimes_R M $ with $ \gamma\br{w} = u $. So $ \br{g \circ \gamma}\br{w} = 0 $. So $ \br{\epsilon \circ f}\br{w} = 0 $. So $ f\br{w} \in \Ker \epsilon = \Im \delta $, so $ f\br{w} = \delta\br{k} $ for $ k \in K \otimes_R M $. Since $ f $ is injective, by Lemma \ref{lem:torsionflat4}, we get $ w = \beta\br{k} \in \Im \beta $. So $ w \in \Ker \gamma $, so $ u = 0 $. Hence $ g $ is injective, as required.
\end{proof}

\lecture{16}{Friday}{14/02/20}

We have shown that if $ R $ is a PID, and if $ M $ is torsion-free, then $ M $ is flat. For an $ R $-module $ M $
$$ \text{free} \implies \text{projective} \implies \text{flat} \implies \text{torsion-free}, \qquad \text{injective} \implies \text{divisible}. $$
Over a PID
$$ \text{free} \iff \text{projective} \implies \text{flat} \iff \text{torsion-free}, \qquad \text{injective} \iff \text{divisible}. $$

\begin{example*}
Do we have projective if and only if flat, over a general ring, or over a PID? The answer is no.
\end{example*}

The $ \ZZ $-module $ \QQ $ is torsion-free, so flat. Is $ \QQ $ projective? Is $ \QQ $ free, since $ \ZZ $ is a PID? Consider a free $ \ZZ $-module $ F = \bigoplus_{s \in S} \ZZ $. Let $ s_0 \in S $. Then let
$$ x = \br{x_s}_{s \in S} =
\begin{cases}
1 & s = s_0 \\
0 & \text{otherwise}
\end{cases}
\in F. $$
It is clear there are no $ y \in F $ such that $ 2y = x $. So $ x $ is not a divisible element of $ F $. Indeed, $ \D\br{F} = \cbr{0} $. But $ \D\br{\QQ} = \QQ $. Hence $ \QQ \not\cong F $. So $ \QQ $ is an example of a flat module which is not projective.

\pagebreak

\section{Resolutions}

\begin{definition}
Let $ M $ be an $ R $-module. A \textbf{resolution}, or \textbf{left resolution}, for $ M $ is a sequence of $ R $-modules $ A_0, A_1, A_2, \dots $, with homomorphisms $ d : A_{i + 1} \to A_i $, and also a homomorphism $ A_0 \to M $, such that
$$ \dots \to A_2 \xrightarrow{d} A_1 \xrightarrow{d} A_0 \to M \to 0 $$
is an exact sequence, where $ d $ is the \textbf{differential}. If all of the modules $ A_i $ have a property $ \PPP $, we call this a \textbf{$ \PPP $-resolution}. So we can talk about free resolutions, projective resolutions, flat resolutions. We do not use the term injective resolution in this context. A \textbf{right resolution}, or \textbf{coresolution}, for $ M $ is a sequence of $ R $-modules $ A^0, A^1, A^2, \dots $, with homomorphisms $ d : A^i \to A^{i + 1} $, and $ M \to A^0 $, such that
$$ 0 \to M \to A^0 \xrightarrow{d} A^1 \xrightarrow{d} A^2 \to \dots $$
is exact. If the modules $ A^i $ have a property $ \PPP $, we can refer to a \textbf{right $ \PPP $-resolution}. An injective resolution always means a right injective resolution.
\end{definition}

\subsection{Existence}

\begin{proposition}
Let $ M $ be an $ R $-module. Then $ M $ has free, projective, and flat resolutions.
\end{proposition}

\begin{proof}
Since free implies projective implies flat, it is enough to show that free resolutions exist. Use the fact that for any module $ L $, there exists a free module $ F $ and $ K \le F $ such that $ L \cong F / K $. So we get a short exact sequence
$$ 0 \to K \to F \to L \to 0. $$
It follows that we can find $ F_0, F_1, F_2, \dots $, and $ K_0 \le F_0, K_1 \le F_1, K_2 \le F_2, \dots $ such that
$$ 0 \to K_0 \to F_0 \to M \to 0, \qquad 0 \to K_1 \to F_1 \to K_0 \to 0, \qquad 0 \to K_2 \to F_2 \to K_1 \to 0, \qquad \dots $$
are all exact. Since $ K_i \le F_i $, we may consider the maps $ F_{i + 1} \to K_i $ as maps $ F_{i + 1} \to F_i $ with image $ K_i $. But $ K_i $ is the kernel of the map $ F_i \to K_{i - 1} $, so the sequence
$$ \dots \to F_2 \to F_1 \to F_0 \to M \to 0 $$
is exact, and a free resolution for $ M $.
\end{proof}

Injective coresolutions exist too, but the proof is more intricate. It involves making use of properties of the abelian group $ \QQ / \ZZ $.

\begin{proposition}
Let $ A $ be an abelian group, and let $ a \in A \setminus \cbr{0} $. There is a homomorphism $ f : A \to \QQ / \ZZ $ such that $ f\br{a} \ne 0 $. % has an injective coresolution.
\end{proposition}

\begin{proof}
Start by defining $ f_0 : \abr{a} \to \QQ / \ZZ $. If $ a $ has finite order $ t $, then $ f_0 : a \mapsto 1 / t + \ZZ $. If $ a $ has infinite order, then $ f_0 : a \mapsto \tfrac{1}{2} + \ZZ $. We will use Zorn's lemma. Let $ X $ be the set
$$ \cbr{\br{B, f} \st B \le A, \ a \in B, \ f : B \to \QQ / \ZZ, \ f \ \text{extends} \ f_0}. $$
Then $ X $ is non-empty, since $ \br{\abr{a}, f_0} \in X $. Define a partial order $ \le $ on $ X $ by $ \br{B_1, f_1} \le \br{B_2, f_2} $ if $ B_1 \le B_2 $ and $ f_2 $ extends $ f $. Let $ \cbr{\br{B_s, f_s} \st s \in S} $ be a chain in $ X $, where $ S $ is a suitable indexing set. Then $ \cbr{B_s \st s \in S} $ is a chain of subgroups of $ A $. So the union $ B = \bigcup_{s \in S} B_s $ is a subgroup of $ A $, containing $ a $. Define
$$ \function[f]{B}{\QQ / \ZZ}{b}{f_s\br{b}}, \qquad b \in B_s. $$
This is well-defined since if $ b \in B_t $ then $ f_s\br{b} = f_t\br{b} $. Now $ \br{B, f} $ is an upper bound for $ \cbr{B_s \st s \in S} $ in $ X $. So by Zorn's lemma, $ X $ has a maximal element, which we will call $ \br{B, f} $. We show that $ B = A $. Since $ f\br{a} = f_0\br{a} $, this will complete the proof. Suppose $ x \in A \setminus B $. Then let $ I < \ZZ $ be defined by
$$ I = \cbr{k \st kx \in B}. $$

\pagebreak

Since $ \ZZ $ is a PID, we have $ I = n\ZZ $ for some $ n $. We have $ \abr{B, x} \le A $, and $ \abr{B, x} \cong B \oplus \abr{x} / \abr{nx - b_0} $, where $ b_0 = nx $ in $ A $. Define
$$ \function[\phi]{B \oplus \abr{x}}{\QQ / \ZZ}{\br{b, kx}}{f\br{b} + \dfrac{kf\br{b_0}}{n}}, $$
so sending $ x $ to $ f\br{b_0} / n $. We see that $ \phi\br{nx - b_0} = 0 $, so $ \phi $ induces a map $ B \oplus \abr{x} / \abr{nx - b_0} \to \QQ / \ZZ $, and hence a map $ f' : \abr{B, x} \to \QQ / \ZZ $. But $ f'\br{a} = f_0\br{a} $, so $ \br{\abr{B, x}, f} $ is an element of $ X $ greater than $ \br{B, f} $, contradicting maximality of $ \br{B, f} $. Hence $ B = A $ as required.
\end{proof}

\lecture{17}{Monday}{17/02/20}

\begin{proposition}
For every abelian group $ A $, there is an injective abelian group $ I $ such that $ A $ is isomorphic to a subgroup of $ I $.
\end{proposition}

\begin{proof}
We know that $ \QQ / \ZZ $ is injective, as a $ \ZZ $-module, since it is divisible, and $ \ZZ $ is a PID. So $ \prod_{s \in S} \QQ / \ZZ $ is also injective. Take $ S = A \setminus \cbr{0} $. Then define, for each $ s \in S $, $ f_s : A \to \QQ / \ZZ $ such that $ f_s\br{s} \ne 0 $. Define
$$ \function[f]{A}{\prod_{s \in S} \QQ / \ZZ}{a}{\br{f_s\br{a}}_{s \in S}}. $$
Now if $ s \in A \setminus \cbr{0} $, then $ f_s\br{s} \ne 0 $, so $ f\br{s} \ne 0 $. So $ f $ is injective. It is easy to check that $ f $ is a homomorphism.
\end{proof}

\begin{proposition}
Let $ M $ be a right $ R $-module, and let $ A $ be an abelian group. Then $ \Hom_\ZZ\br{M, A} $ is a left $ R $-module, with the $ R $-action defined by $ \br{rf}\br{m} = f\br{mr} $.
\end{proposition}

\begin{proof}
This is clearer if we write the map $ f $ on the right instead of the left. Then the proposition becomes $ \br{m}\br{rf} = \br{mr}f $, and it is easy to see this works.
\end{proof}

\begin{proposition}
Let $ M $ be a left $ R $-module, and $ A $ an abelian group. Then $ \Hom_\ZZ\br{R, A} $ is a left $ R $-module, and there is a natural isomorphism
$$ \Hom_R\br{M, \Hom_\ZZ\br{R, A}} \cong \Hom_\ZZ\br{M, A}. $$
\end{proposition}

\begin{proof}
Write $ H = \Hom_\ZZ\br{R, A} $. Define
$$ \function[\Phi]{\Hom_R\br{M, H}}{\Hom_\ZZ\br{M, A}}{f}{\br{m \mapsto f\br{m}\br{1}}}, \qquad m \in M, \qquad 1 \in R. $$
Check the following.
\begin{itemize}
\item $ \Phi\br{f} $ is a homomorphism, since
\begin{align*}
\Phi\br{f}\br{m_1 + m_2}
& = f\br{m_1 + m_2}\br{1} \\
& = \br{f\br{m_1} + f\br{m_2}}\br{1} \\
& = f\br{m_1}\br{1} + f\br{m_2}\br{1} & \text{definition of} \ + \ \text{in} \ \Hom_\ZZ\br{R, A} \\
& = \Phi\br{f}\br{m_1} + \Phi\br{f}\br{m_2}.
\end{align*}
\item $ \Phi $ is a homomorphism, since
\begin{align*}
\Phi\br{f_1 + f_2}\br{m}
& = \br{f_1 + f_2}\br{m}\br{1} \\
& = \br{f_1\br{m} + f_2\br{m}}\br{1} & \text{definition of} \ + \ \text{in} \ \Hom_\ZZ\br{M, A} \\
& = f_1\br{m}\br{1} + f_2\br{m}\br{1} \\
& = \Phi\br{f_1}\br{m} + \Phi\br{f_2}\br{m} \\
& = \br{\Phi\br{f_1} + \Phi\br{f_2}}\br{m} & \text{definition of} \ + \ \text{in} \ \Hom_\ZZ\br{M, A},
\end{align*}
so since $ m $ was arbitrary, $ \Phi\br{f_1 + f_2} = \Phi\br{f_1} + \Phi\br{f_2} $.
\end{itemize}

\pagebreak

Now define
$$ \function[\Psi]{\Hom_\ZZ\br{M, A}}{\Hom_R\br{M, H}}{p}{\br{m \mapsto \br{r \mapsto p\br{rm}}}}, \qquad m \in M, \qquad r \in R. $$
Check the following.
\begin{itemize}
\item $ \Psi\br{p}\br{m} $ is a homomorphism, since
\begin{align*}
\Psi\br{p}\br{m}\br{r_1 + r_2}
& = p\br{\br{r_1 + r_2}m}
= p\br{r_1m + r_2m} \\
& = p\br{r_1m} + p\br{r_2m}
= \Psi\br{p}\br{m}\br{r_1} + \Psi\br{p}\br{m}\br{r_1}.
\end{align*}
\item $ \Psi\br{p} $ is an $ R $-module homomorphism, since
\begin{align*}
\Psi\br{p}\br{m_1 + m_2}\br{r}
& = p\br{r\br{m_1 + m_2}}
= p\br{rm_1 + rm_2}
= p\br{rm_1} + p\br{rm_2} \\
& = \Psi\br{p}\br{m_1}\br{r} + \Psi\br{p}\br{m_2}\br{r}
= \br{\Psi\br{p}\br{m_1} + \Psi\br{p}\br{m_2}}\br{r},
\end{align*}
so $ \Psi\br{p}\br{m_1 + m_2} = \Psi\br{p}\br{m_1} + \Psi\br{p}\br{m_2} $, and for $ h \in H $, we have $ \br{sh}\br{r} = h\br{rs} $, by definition of the $ R $-module structure on $ H $, so
$$ s\Psi\br{p}\br{m}\br{r} = \Psi\br{p}\br{m}\br{rs} = p\br{rsm} = \Psi\br{p}\br{sm}\br{r}, $$
so $ s\Psi\br{p}\br{m} = \Psi\br{p}\br{sm} $.
\item $ \Psi $ is a homomorphism, since
\begin{align*}
\Psi\br{p_1 + p_2}\br{m}\br{r}
& = \br{p_1 + p_2}\br{rm}
= p_1\br{rm} + p_2\br{rm} \\
& = \Psi\br{p_1}\br{m}\br{r} + \Psi\br{p_2}\br{m}\br{r}
= \br{\Psi\br{p_1} + \Psi\br{p_2}}\br{m}\br{r},
\end{align*}
so $ \Psi\br{p_1 + p_2} = \Psi\br{p_1} + \Psi\br{p_2} $.
\end{itemize}
Then $ \Psi \circ \Phi = \id_{\Hom_R\br{M, H}} $ and $ \Phi \circ \Psi = \id_{\Hom_\ZZ\br{M, A}} $. \footnote{Exercise} Hence $ \Phi $ and $ \Psi $ are isomorphisms.
\end{proof}

We are interested in the case $ A = \QQ / \ZZ $. Write $ S = \Hom_\ZZ\br{M, \QQ / \ZZ} $.

\lecture{18}{Tuesday}{18/02/20}

\begin{proposition}
$ S $ is injective as a left $ R $-module.
\end{proposition}

\begin{proof}
Let $ M $ and $ N $ be $ R $-modules, and $ \alpha : M \to N $ an injective homomorphism. By identifying $ M $ with $ \Im \alpha $, we may assume that $ M \le N $, and $ \alpha $ is the inclusion map. Since $ \QQ / \ZZ $ is injective as an abelian group, any $ \ZZ $-module homomorphism $ M \to S $ extends to a homomorphism $ N \to S $. Define
$$ \function[\Theta]{\Hom_\ZZ\br{N, \QQ / \ZZ}}{\Hom_\ZZ\br{M, \QQ / \ZZ}}{f}{\eval{f}_M}, $$
the restriction to $ M $. We see that $ \Theta $ is surjective. Similarly, we can define
$$ \function[\Theta']{\Hom_R\br{N, S}}{\Hom_R\br{M, S}}{f}{\eval{f}_M}. $$
Then $ \Theta' $ is an abelian group homomorphism. But we know there is a naturally defined isomorphism between $ \Hom_R\br{M, S} $ and $ \Hom_\ZZ\br{M, \QQ / \ZZ} $. So we get
$$
\begin{tikzcd}
\Hom_\ZZ\br{N, \QQ / \ZZ} \arrow{r}{\Theta} \arrow{d}{\Psi}[swap]{\sim} & \Hom_\ZZ\br{M, \QQ / \ZZ} \arrow{d}{\Psi}[swap]{\sim} \\
\Hom_R\br{N, S} \arrow[swap]{r}{\Theta'} & \Hom_R\br{M, S}
\end{tikzcd}.
$$
It is easy to see that this diagram commutes. It follows that $ \Theta' $ is surjective. So any $ R $-module homomorphism $ M \to S $ extends to a homomorphism $ N \to S $. Hence $ S $ is injective.
\end{proof}

\pagebreak

\begin{proposition}
Let $ M $ be a left $ R $-module, and $ m \in M \setminus \cbr{0} $. Then there exists $ f : M \to S $ such that $ f\br{m} \ne 0 $.
\end{proposition}

\begin{proof}
We know there is an abelian group homomorphism $ g : M \to \QQ / \ZZ $ such that $ g\br{m} \ne 0 $. Now $ \Psi\br{g} \in \Hom_R\br{M, S} $, and $ \Psi\br{g}\br{m}\br{1} = g\br{m} \ne 0 $ for $ 1 \in R $, so $ \Psi\br{g}\br{m} $ is not the zero map.
\end{proof}

\begin{proposition}
Let $ M $ be a left $ R $-module. There exists an injective $ R $-module $ I $ such that $ M $ is isomorphic to a submodule of $ I $. Equivalently, there exists an injection $ M \to I $.
\end{proposition}

\begin{proof}
Same as abelian groups. Let $ T = M \setminus \cbr{0} $. Then $ I = \prod_{t \in T} S $ is injective. Let $ f_t $ be a homomorphism $ M \to S $ such that $ f_t\br{t} \ne 0 $. Then
$$ \function[f]{M}{I}{m}{\br{f_t\br{m}}_{t \in T}} $$
is injective, and a homomorphism.
\end{proof}

\begin{proposition}
Every $ R $-module admits an injective resolution.
\end{proposition}

Thus there exists injective $ I_0, I_1, I_2, \dots $ such that
$$ 0 \to M \to I_0 \to I_1 \to I_2 \to \dots $$
is exact.

\begin{proof}
Let $ M $ be an $ R $-module. Then $ M $ injects into some injective module $ I_0 $. Let $ C_0 = I_0 / \Im \br{M \to I_0} $. Then $ C_0 $ injects into some injective $ I_1 $. This induces a map $ I_0 \to I_1 $ whose kernel is $ \Im \br{M \to I_0} $. Further terms in the sequence are constructed in an identical manner.
\end{proof}

\subsection{Uniqueness}

\begin{proposition}
Let $ M $ and $ N $ be $ R $-modules, and $ \phi : M \to N $. Let $ \br{P_i} $ be a projective resolution for $ M $, and $ \br{Q_i} $ a projective resolution for $ N $.
\begin{enumerate}
\item There exist $ R $-module homomorphisms $ f_i : P_i \to Q_i $ such that the diagram
$$
\begin{tikzcd}
\dots \arrow{r}{d_2} & P_2 \arrow{r}{d_1} \arrow[dashed]{d}{f_2} & P_1 \arrow{r}{d_0} \arrow[dashed]{d}{f_1} & P_0 \arrow{r} \arrow[dashed]{d}{f_0} & M \arrow{r} \arrow{d}{\phi} & 0 \\
\dots \arrow{r}{d_2'} & Q_2 \arrow{r}{d_1'} & Q_1 \arrow{r}{d_0'} & Q_0 \arrow{r} & N \arrow{r} & 0
\end{tikzcd}
$$
commutes.
\item Let $ g_i : P_i \to Q_i $ be such that the diagram
$$
\begin{tikzcd}
\dots \arrow{r}{d_2} & P_2 \arrow{r}{d_1} \arrow[bend right=30, swap]{d}{f_2} \arrow[bend left=30]{d}{g_2} & P_1 \arrow{r}{d_0} \arrow[bend right=30, swap]{d}{f_1} \arrow[bend left=30]{d}{g_1} & P_0 \arrow{r} \arrow[bend right=30, swap]{d}{f_0} \arrow[bend left=30]{d}{g_0} & M \arrow{r} \arrow{d}{\phi} & 0 \\
\dots \arrow{r}{d_2'} & Q_2 \arrow{r}{d_1'} & Q_1 \arrow{r}{d_0'} & Q_0 \arrow{r} & N \arrow{r} & 0
\end{tikzcd}
$$
commutes. Then there exist homomorphisms $ s_i : P_i \to Q_{i + 1} $ such that
$$ g_i - f_i =
\begin{cases}
s_{i - 1} \circ d_{i - 1} + d_i' \circ s_i & i > 0 \\
d_0' \circ s_0 & i = 0
\end{cases},
$$
so
$$
\begin{tikzcd}
\dots \arrow{r}{d_2} & P_2 \arrow{r}{d_1} \arrow[dashed, swap]{dl}{s_2} & P_1 \arrow{r}{d_0} \arrow[dashed, swap]{dl}{s_1} & P_0 \arrow{r} \arrow[dashed, swap]{dl}{s_0} & M \arrow{r} \arrow{d}{\phi} & 0 \\
\dots \arrow{r}{d_2'} & Q_2 \arrow{r}{d_1'} & Q_1 \arrow{r}{d_0'} & Q_0 \arrow{r} & N \arrow{r} & 0
\end{tikzcd}.
$$
\end{enumerate}
\end{proposition}

\pagebreak

\begin{proof}
\hfill
\begin{enumerate}
\item The map $ q : Q_0 \to N $ is surjective. There is a map $ p : P_0 \to N $, given by composing $ P_0 \to M $ with $ \phi $. Since $ P_0 $ is projective there exists $ f_0 : P_0 \to Q_0 $ such that $ p = q \circ f_0 $. Suppose the maps $ f_0, \dots, f_{t - 1} $ have been constructed, so
$$
\begin{tikzcd}
P_t \arrow{r}{d_{t - 1}} & P_{t - 1} \arrow{r}{d_{t - 2}} \arrow{d}{f_{t - 1}} & P_{t - 2} \arrow{d}{f_{t - 2}} \arrow{r} & \dots \\
Q_t \arrow{r}{d_{t - 1}'} & Q_{t - 1} \arrow{r}{d_{t - 2}'} & Q_{t - 2} \arrow{r} & \dots
\end{tikzcd}.
$$
Observe that $ d_{t - 2}' \circ f_{t - 1} \circ d_{t - 1} = f_{t - 2} \circ d_{t - 2} \circ d_{t - 1} $, since the existing squares of the diagram commute. But $ d_{t - 2} \circ d_{t - 1} = 0 $. So $ d_{t - 2}' \circ f_{t - 1} \circ d_{t - 1} = 0 $, so $ \Im \br{f_{t - 1} \circ d_{t - 1}} \le \Ker d_{t - 2}' = \Im d_{t - 1}' $. Now the map $ d_{t - 1}' : Q_t \to \Im d_{t - 1}' $ is obviously surjective, and $ P_t $ is projective. So there is a map $ f_t : P_t \to Q_t $ such that $ f_{t - 1} \circ d_{t - 1} = d_{t - 1}' \circ f_t $. Now inductively, maps $ f_i $ exist for all $ i $.
\end{enumerate}
\end{proof}

\end{document}
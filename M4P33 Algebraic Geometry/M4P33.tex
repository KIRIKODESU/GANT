\def\module{M4P33 Algebraic Geometry}
\def\lecturer{Prof Kevin Buzzard}
\def\term{Spring 2020}
\def\cover{}
\def\syllabus{}
\def\thm{section}

\input{../style/header}

\begin{document}

\input{../style/cover}

\section{Introduction}

\subsection{B\'ezout's theorem}

\lecture{1}{Monday}{13/01/20}

Here is an example of a theorem in algebraic geometry and an outline of a geometric method for proving it which illustrates some of the main themes in algebraic geometry.

\begin{theorem}[B\'ezout]
Let $ C $ be a plane algebraic curve $ \cbr{\br{x, y} \st f\br{x, y} = 0} $ where $ f $ is a polynomial of degree $ m $. Let $ D $ be a plane algebraic curve $ \cbr{\br{x, y} \st g\br{x, y} = 0} $ where $ g $ is a polynomial of degree $ n $. Suppose that $ C $ and $ D $ have no component in common, since if they had a component in common, then their intersection would obviously be infinite. Then $ C \cap D $ consists of $ mn $ points, provided that
\begin{itemize}
\item we work over the complex numbers $ \CC $,
\item we work in the projective plane, which consists of the ordinary plane together with some points at infinity, and
\item we count intersections with the correct multiplicities, so if the curves are tangent at a point, it counts as more than one intersection.
\end{itemize}
\end{theorem}

Consider the cases where $ C $ is a line of degree one and $ D $ has either degree one or two. The projective plane will be formally defined later in the course. We will not define intersection multiplicities in this course, but the idea is that multiple intersections resemble multiple roots of a polynomial in one variable.

\begin{proof}
We prove a special case, where $ C $ is the union of $ m $ lines, then use this to prove the general case of the theorem.
\begin{itemize}
\item First for the special case, suppose we have $ m $ lines in the plane, with equations
$$ a_1x + b_1y + c_1 = 0, \qquad \dots, \qquad a_mx + b_my + c_m = 0. $$
We can multiply these equations together to get
$$ \br{a_1x + b_1y + c_1} \dots \br{a_mx + b_my + c_m} = 0. $$
This is an equation of degree $ m $ and its solution set is the union of the lines. Each line intersects $ D $ in $ n $ points, counted with multiplicities, because we can rearrange the equation of the line into the form $ x = \dots $ or $ y = \dots $ then substitute into the equation for $ D $. This usually gives a polynomial of degree $ n $ in one variable, and this has $ n $ roots if we count them correctly. There are also special cases to worry about where the line intersects $ D $ at infinity. Combining all the $ m $ lines, we deduce that their union intersects $ D $ in $ mn $ points.
\item Now we deduce the general case from the special case. We let the curve $ C $ vary in a family of curves of degree $ m $. What exactly we mean by varying in a family will be defined later in the course. As an example, consider the family of curves
$$ \FFF : \cbr{\br{x, y} \st x^2 - y^2 = t}, $$
where $ t $ is a parameter, so for different values of $ t $ we get different curves. When the curve $ C $ varies in a family like this, the number of intersection points in $ C \cap D $ does not change, counting with multiplicity. This is the core of the proof. It requires a lot of work to justify which we will not do here. For any degree $ m $ curve $ C $, it is possible to find a family of curves which contains both $ C $ itself and a union of $ m $ lines $ X $. For example, if $ C $ is the hyperbola defined by the equation $ x^2 - y^2 = 1 $, then it is found in the family $ \FFF $, with $ t = 1 $. If we let $ t = 0 $ in this family, then the equation factors as $ \br{x - y}\br{x + y} $ and this defines the union of two lines in the plane. We have already proved that $ X \cap D $ has $ mn $ points, and we stated that $ X \cap D $ has the same number of points as $ C \cap D $ because $ C $ and $ X $ are in the same family. We conclude that $ C \cap D $ has $ mn $ points.
\end{itemize}
\end{proof}

\pagebreak

The idea that something stays the same everywhere, or almost everywhere, in a family of varying algebraic sets is a key theme in algebraic geometry. Note that this proof uses not just curves but also higher-dimensional algebraic sets. Instead of thinking about a family of curves such as $ \FFF $, with coordinates $ \br{x, y} $ and a parameter $ t $, we can regard $ x, y, t $ all as coordinates in three-dimensional space and consider the surface
$$ \cbr{\br{x, y, t} \st x^2 - y^2 = t}. $$
Then we use facts about this surface as part of the proof. We will not prove B\'ezout's theorem in this course. In particular, we will not define intersection multiplicities. But we will set up many of the tools needed to fill in the gaps in this outline proof.

\subsection{Practical information about the course}

The following are books.
\begin{itemize}
\item M Reid, Undergraduate algebraic geometry, 1988
\item R Hartshorne, Algebraic geometry, 1977
\end{itemize}
During the course we will sometimes assume results from commutative algebra. Books which contain these results, and much much more, include the following.
\begin{itemize}
\item H Matsumura, Commutative ring theory, 1986
\item M F Atiyah and I G Macdonald, Introduction to commutative algebra, 1969
\item D Eisenbud, Commutative algebra: with a view toward algebraic geometry, 2011
\end{itemize}
The following is the course outline.
\begin{itemize}
\item Affine varieties.
\begin{itemize}
\item Definition and examples.
\item Maps between varieties.
\item Translating between geometry and commutative algebra by the Nullstellensatz.
\end{itemize}
\item Projective varieties.
\begin{itemize}
\item Definition and examples.
\item Maps between varieties.
\item Rigidity and images of maps.
\end{itemize}
\item Dimension.
\begin{itemize}
\item Several different definitions, all equivalent, but useful for different purposes.
\item Calculating dimensions of examples.
\end{itemize}
\end{itemize}
What is not in the course?
\begin{itemize}
\item Schemes.
\item Sheaves and cohomology.
\item Curves, divisors, and the Riemannâ€“Roch theorem.
\end{itemize}

\pagebreak

\section{Affine varieties}

\subsection{Affine algebraic sets}

\subsubsection{Affine space}

Let $ k $ be an algebraically closed field. We are going to be thinking about solutions to polynomials, so everything is much simpler over algebraically closed fields. Number theorists might be interested in other fields, but you generally have to start by understanding the algebraically closed case first. In this course we will stop with the algebraically closed case too. Apart from being algebraically closed, it usually does not matter much which field we use to do algebraic geometry, except sometimes it matters whether the characteristic is zero or positive. In this course I will take care to mention results which depend on the characteristic, and sometimes we might consider only the characteristic zero case. You will not lose much if you just assume that $ k = \CC $ throughout the course, except when it will be explicitly something else. Indeed it is often useful to think about $ k = \CC $ because then you can use your usual geometric intuition. When I draw pictures on the whiteboard, I am usually only drawing the real solutions because it is hard to draw shapes in $ \CC^2 $. This is cheating but it is often very useful. The real solutions are not the full picture but in many cases we can still see the important features there.

\begin{definition}
Algebraic geometers write $ \AA^n $ to mean $ k^n $, and call it \textbf{affine $ n $-space}.
\end{definition}

You may think of this as just a funny choice of notation, but there are at least two reasons for it.
\begin{itemize}
\item When we write $ k^n $, it makes us think of a vector space, equipped with operations of addition and scalar multiplication. But $ \AA^n $ means just a set of points, described by coordinates $ \br{x_1, \dots, x_n} $ with $ x_i \in k $, without the vector space structure.
\item Because it usually does not matter much what our base field $ k $ is, as long as it is algebraically closed, it is convenient to have notation which does not prominently mention $ k $.
\end{itemize}
On occasions when it is important to specify which field $ k $ we are using, we write $ \AA_k^n $ for affine $ n $-space.

\subsubsection{Definition and examples}

\lecture{2}{Thursday}{16/01/20}

\begin{definition}
An \textbf{affine algebraic set} is a subset $ V \subseteq \AA^n $ which consists of the common zeroes of some finite set of polynomials $ f_1, \dots, f_m $ with coefficients in $ k $. More formally, an affine algebraic set is a set of the form
$$ V = \cbr{\br{x_1, \dots, x_n} \in \AA^n \st f_1\br{x_1, \dots, x_n} = \dots = f_m\br{x_1, \dots, x_n} = 0}, \qquad f_1, \dots, f_m \in k\sbr{X_1, \dots, X_n}. $$
\end{definition}

\begin{example*}
Examples.
\begin{itemize}
\item The empty set, defined by the polynomial $ f_1 = 3 $, for example.
\item The whole space $ \AA^n $, defined by the polynomial $ f_1 = 0 $, or by the empty set of polynomials.
\item Any finite subset $ \cbr{a_1, \dots, a_n} $ in $ \AA^1 $, defined by the polynomial $ f_1 = \br{X - a_1} \dots \br{X - a_n} $.
\item Any single-point set $ \cbr{\br{a_1, \dots, a_n}} $ in $ \AA^n $, defined by the polynomials $ f_i = X_i - a_i $. Note that this is different from the example of a finite set in $ \AA^1 $, because that example had a single polynomial in one variable of degree $ n $, while here we have $ n $ distinct polynomials in $ n $ variables of degree one.
\item Any algebraic curve in $ \AA^n $, that is, a set of the form
$$ \cbr{\br{x_1, \dots, x_n} \in \AA^n \st f\br{x_1, \dots, x_n} = 0}, \qquad f \in k\sbr{X_1, \dots, X_n}. $$
\item Embeddings of $ \AA^m $ in $ \AA^n $ where $ m < n $,
$$ \cbr{\br{x_1, \dots, x_m, 0, \dots, 0} \in \AA^n} = \cbr{\br{x_1, \dots, x_n} \in \AA^n \st x_{m + 1} = \dots = x_n = 0}. $$
More generally, the image of a linear map $ \AA^m \to \AA^n $,
$$ \cbr{\br{x_1, \dots, x_n} \in \AA^n \st \text{some linear conditions}}. $$
\end{itemize}
\end{example*}

\pagebreak

\begin{example*}
Non-examples.
\begin{itemize}
\item Any infinite subset of $ \AA^1 $, other than $ \AA^1 $ itself, such as a line segment, a line with a double point, or an infinite discrete set. This is because a one-variable polynomial with infinitely many roots must be the zero polynomial. This also tells us that $ \cbr{x \in \AA^1 \st x \ne 0} $ is not an affine algebraic set. However there is an affine algebraic set which is isomorphic to $ \AA^1 \setminus \cbr{0} $, namely $ \cbr{\br{x, y} \in \AA^2 \st xy - 1 = 0} $. By looking at just the $ x $ coordinate, this set bijects to $ \AA^1 \setminus \cbr{0} $.
\item A sine wave. If $ \cbr{\br{x, y} \st y = \sin x} $ were an affine algebraic set, then $ \cbr{\br{x, y} \st y = \sin x, \ y = 0} $ would also be an affine algebraic set because it is defined by imposing an extra polynomial condition, but the latter is an infinite discrete set.
\item The example of the image of a linear map $ \AA^m \to \AA^n $ does not generalise to images of maps where each coordinate is given by a polynomial. For example, consider the map
$$ \function[\phi]{\AA^2}{\AA^2}{\br{x, y}}{\br{x, xy}}. $$
The image of $ \phi $ is $ S = \AA^2 \setminus \cbr{\br{0, y}} \cup \cbr{\br{0, 0}} $. To prove that $ S $ is not an affine algebraic set, consider a polynomial $ g\br{X, Y} \in k\sbr{X, Y} $ which vanishes on $ S $. For each fixed $ y \in k $, the one-variable polynomial $ g\br{X, y} $ vanishes at all $ x \ne 0 $. This implies that $ g\br{X, y} $ is the zero polynomial. Thus $ g\br{x, y} = 0 $ for all $ \br{x, y} \in k^2 $, that is, $ g $ is the zero polynomial.
\end{itemize}
\end{example*}

\begin{remark}
The words affine variety mean more or less the same thing as affine algebraic set but there is an ontological difference. Affine algebraic set means a subset which lives inside $ \AA^n $ and knows how it lives inside $ \AA^n $, while affine variety means an object in its own right which is considered outside of $ \AA^n $. I will try to use these words consistently, but the difference is quite subtle and books may not always use it consistently. For the first few weeks, we will talk about affine algebraic sets only. Note that some books, such as Reid and Hartshorne, have another difference between affine varieties and affine algebraic sets. They require varieties to be irreducible, which we will define next time. Other books, such as Shafarevich, do not require varieties to be irreducible. In this course we will not require varieties to be irreducible.
\end{remark}

\subsubsection{New algebraic sets from old}

Now we prove that the union of two affine algebraic sets is an affine algebraic set. Consider two points $ \br{a_1, \dots, a_n} $ and $ \br{b_1, \dots, b_n} $ in $ \AA^n $. The two-point set $ \cbr{\br{a_1, \dots, a_n}, \br{b_1, \dots, b_n}} $ can be defined by taking the product for each possible pair of equations, one from each list, so $ \br{X_i - a_i}\br{X_j - b_j} = 0 $ for all $ i, j \in \cbr{1, \dots, n} $.

\begin{note*}
It is necessary to consider all the pairs between the lists, not just the ones with $ i = j $, because otherwise we would be allowing points like $ \br{a_1, \dots, a_{n - 1}, b_n} $.
\end{note*}

\begin{lemma}
If $ V, W \subseteq \AA^n $ are affine algebraic sets, then their union $ V \cup W \subseteq \AA^n $ is also an affine algebraic set.
\end{lemma}

% We see that any finite subset of $ \AA^n $ is an affine algebraic set.

\begin{proof}
We have to take the product for each possible pair of defining polynomials. If
$$ V = \cbr{\underline{x} \in \AA^n \st f_1\br{\underline{x}} = \dots = f_r\br{\underline{x}} = 0}, \qquad W = \cbr{\underline{x} \in \AA^n \st g_1\br{\underline{x}} = \dots = g_s\br{\underline{x}} = 0}, $$
then
$$ V \cup W = \cbr{\underline{x} \in \AA^n \st \forall 1 \le i \le r, \ \forall 1 \le j \le s, \ f_i\br{\underline{x}}g_j\br{\underline{x}} = 0}. $$
Let us check that these equations really do define $ V \cup W $. First, suppose that $ \underline{x} \in V \cup W $. Then either $ \underline{x} \in V $, so $ f_i\br{\underline{x}} = 0 $ for every $ i $, so we can multiply by $ g_j\br{\underline{x}} $ to get $ f_i\br{\underline{x}}g_j\br{\underline{x}} = 0 $ for every $ i $ and $ j $, or $ \underline{x} \in W $, in which case the same argument works with $ g_j $ in place of $ f_i $. The reverse direction is a little trickier. Suppose that we have $ \underline{x} \in \AA^n $ satisfying $ f_i\br{\underline{x}}g_j\br{\underline{x}} = 0 $ for all $ i $ and $ j $. Looking just at $ f_1 $, we get
$$ f_1\br{\underline{x}}g_1\br{\underline{x}} = 0 \implies f_1\br{\underline{x}} = 0 \ \text{or} \ g_1\br{\underline{x}} = 0, \qquad \dots, \qquad f_1\br{\underline{x}}g_s\br{\underline{x}} = 0 \implies f_1\br{\underline{x}} = 0 \ \text{or} \ g_s\br{\underline{x}} = 0. $$
Putting these all together, we get $ f_1\br{\underline{x}} = 0 $ or $ g_j\br{\underline{x}} = 0 $ for every $ j $. We can do the same thing for $ f_2 $ to get $ f_2\br{\underline{x}} = 0 $ or $ g_j\br{\underline{x}} = 0 $ for every $ j $, and so on for each $ f_i $. Putting all these together, we get $ f_i\br{\underline{x}} = 0 $ for every $ i $ or $ g_j\br{\underline{x}} = 0 $ for every $ j $. This says precisely that $ \underline{x} \in V \cup W $.
\end{proof}

\pagebreak

It is even easier to check that the intersection of finitely many affine algebraic sets is an affine algebraic set.

\begin{lemma}
If $ V, W \subseteq \AA^n $ are affine algebraic sets, then their intersection $ V \cap W \subseteq \AA^n $ is also an affine algebraic set.
\end{lemma}

\begin{proof}
Just combine the lists of defining equations. That is, say
$$ V = \cbr{\underline{x} \in \AA^m \st f_1\br{\underline{x}} = \dots = f_r\br{\underline{x}} = 0}, \qquad W = \cbr{\underline{y} \in \AA^n \st g_1\br{\underline{y}} = \dots = g_s\br{\underline{y}} = 0}. $$
Then $ V \cap W $ is simply the set where all the polynomials in both lists vanish, that is
$$ V \cap W = \cbr{\underline{x} \in \AA^n \st f_1\br{\underline{x}} = \dots = f_r\br{\underline{x}} = g_1\br{\underline{x}} = \dots = g_s\br{\underline{x}} = 0}. $$
\end{proof}

Just a remark on one other way of constructing new affine algebraic sets from existing ones.

\begin{lemma}
If $ V \subseteq \AA^m $ and $ W \subseteq \AA^n $ are affine algebraic sets, then their Cartesian product $ V \times W \subseteq \AA^{m + n} $ is an affine algebraic set.
\end{lemma}

\begin{proof}
Write
$$ V = \cbr{\underline{x} \in \AA^m \st f_1\br{\underline{x}} = \dots = f_r\br{\underline{x}} = 0}, \qquad W = \cbr{\underline{y} \in \AA^n \st g_1\br{\underline{y}} = \dots = g_s\br{\underline{y}} = 0}. $$
Then
$$ V \times W = \cbr{\br{\underline{x}, \underline{y}} \in \AA^{m + n} \st f_1\br{\underline{x}} = \dots = f_r\br{\underline{x}} = g_1\br{\underline{y}} = \dots = g_s\br{\underline{y}} = 0}. $$
\end{proof}

This looks a bit like the equations defining $ V \cap W $, but here the $ f_i $ involve different variables from the $ g_j $, while for $ V \cap W $ both used the same variables.

\subsubsection{Ideals and algebraic sets}

\lecture{3}{Friday}{17/01/20}

The union of infinitely many affine algebraic sets is not always an affine algebraic set. I do not mean that it is never an affine algebraic set, just that there exist counter-examples. Indeed, any subset of $ \AA^n $ can be written as a union of single-point sets. The intersection of infinitely many affine algebraic sets always an affine algebraic set. If we try to prove this by combining the lists of defining equations, we run into a problem. In our definition of affine algebraic sets we only allowed a finite list of polynomial equations. We introduce ideals to remove this restriction.

\begin{definition}
Recall from commutative algebra that, if $ R $ is a ring, an \textbf{ideal} is a subset $ I \subseteq R $ with the properties that
\begin{itemize}
\item if $ f, g \in I $, then $ f + g \in I $, and
\item if $ f \in I $ and $ q \in R $, then $ qf \in I $.
\end{itemize}
Given any subset $ S \subseteq R $, we define the \textbf{ideal generated by $ S $} to be the smallest ideal which contains $ S $, and denote it by $ \abr{S} $. In particular, if $ S $ is the finite set $ \cbr{f_1, \dots, f_m} $ then it generates the ideal
$$ \abr{f_1, \dots, f_m} = \cbr{q_1f_1 + \dots + q_mf_m \st q_1, \dots, q_m \in R}. $$
\end{definition}

Let us introduce some notation.

\begin{definition}
For any set $ S \subseteq k\sbr{X_1, \dots, X_n} $, let
$$ \VV\br{S} = \cbr{\underline{x} \in \AA^n \st \forall f \in S, \ f\br{\underline{x}} = 0}. $$
\end{definition}

\begin{lemma}
\label{lem:vs}
If $ S \subseteq k\sbr{X_1, \dots, X_n} $ generates the ideal $ I $, then $ \VV\br{S} = \VV\br{I} $.
\end{lemma}

\begin{proof}
We have $ S \subseteq I $ and so it is easy to see that $ \VV\br{I} \subseteq \VV\br{S} $. Suppose that $ \underline{x} \in \VV\br{S} $, and $ f \in \VV\br{I} $. Then there are $ f_1, \dots, f_m \in S $ and $ q_1, \dots, q_m \in k\sbr{X_1, \dots, X_n} $ such that $ f = q_1f_1 + \dots + q_mf_m $. Since $ f_1\br{\underline{x}} = \dots = f_m\br{\underline{x}} = 0 $, it follows that $ f\br{\underline{x}} = 0 $. Since this holds for every $ f \in I $, $ \underline{x} \in \VV\br{I} $.
\end{proof}

\pagebreak

\begin{theorem}[Hilbert basis theorem]
From commutative algebra, if $ k $ is any field, then the polynomial ring $ k\sbr{X_1, \dots, X_n} $ is Noetherian. That means that the following two equivalent conditions hold.
\begin{itemize}
\item Let $ I $ be an ideal in $ k\sbr{X_1, \dots, X_n} $. Then there exists a finite set $ \cbr{f_1, \dots, f_m} \subseteq k\sbr{X_1, \dots, X_n} $ which generates $ I $.
\item Let $ I_1 \subseteq I_2 \subseteq \dots $ be an ascending chain of ideals in $ k\sbr{X_1, \dots, X_n} $. Then there is some $ N $ such that $ I_n = I_N $ for every $ n > N $.
\end{itemize}
\end{theorem}

Using the Hilbert basis theorem, we can deduce that the restriction to finite lists of polynomials in the definition of affine algebraic sets is unnecessary.

\begin{corollary}
\label{cor:vs}
$ \VV\br{S} $ is an affine algebraic set for any set of polynomials $ S \subseteq k\sbr{X_1, \dots, X_n} $.
\end{corollary}

\begin{proof}
Let $ I $ be the ideal in $ k\sbr{X_1, \dots, X_n} $ generated by $ S $. By the Hilbert basis theorem, $ k\sbr{X_1, \dots, X_n} $ is Noetherian and so we can choose a finite set $ \cbr{f_1, \dots, f_m} $ which generates $ I $. Then Lemma \ref{lem:vs} tells us that $ \VV\br{S} = \VV\br{I} = \VV\br{f_1, \dots, f_m} $.
\end{proof}

\begin{corollary}
The intersection of finitely many affine algebraic sets is an affine algebraic set.
\end{corollary}

\begin{proof}
Combine the lists of defining polynomials for all the algebraic sets, and apply Corollary \ref{cor:vs}.
\end{proof}

We can also go in the other direction, from affine algebraic sets to ideals. Say $ V_n = \VV\br{I_n} $. Does $ V_1 \supseteq V_2 $ imply that $ I_1 \subseteq I_2 $? No. The problem is that there is more than one ideal defining the same algebraic set.

\begin{example*}
Let $ I_1 = \abr{X} $ and $ I_2 = \abr{X^2} $ in $ k\sbr{X} $. We have $ \VV\br{I_1} = \cbr{0} = \VV\br{I_2} $.
\end{example*}

However, there is a natural choice we can make for one ideal canonically associated with an affine algebraic set, the set of all polynomials which vanish on that set.

\begin{definition}
Formally, if $ A $ is any subset of $ \AA^n $, usually $ A $ will be an affine algebraic set, we define
$$ \II\br{A} = \cbr{f \in k\sbr{X_1, \dots, X_n} \st \forall \underline{x} \in A, \ f\br{\underline{x}} = 0}. $$
\end{definition}

\begin{note*}
$ \II\br{A} $ is an ideal in $ k\sbr{X_1, \dots, X_n} $.
\end{note*}

We have now defined two functions
$$ \VV : \cbr{\text{ideals in} \ k\sbr{X_1, \dots, X_n}} \to \cbr{\text{affine algebraic sets in} \ \AA^n}, $$
$$ \II : \cbr{\text{affine algebraic sets in} \ \AA^n} \to \cbr{\text{ideals in} \ k\sbr{X_1, \dots, X_n}}. $$
These functions are not inverses of each other. The example of $ \abr{X} $ and $ \abr{X^2} $ shows that $ \II\br{\VV\br{\abr{X^2}}} = \abr{X} \ne \abr{X^2} $. But composing $ \VV $ and $ \II $ in the other order gives the identity.

\begin{lemma}
\label{lem:viv}
If $ V $ is an affine algebraic set, then $ \VV\br{\II\br{V}} = V $.
\end{lemma}

\begin{proof}
It is clear that $ V \subseteq \VV\br{\II\br{V}} $, and this works when $ V $ is any subset of $ \AA^n $, not necessarily algebraic. For the reverse inclusion, we have to use the hypothesis that $ V $ is an affine algebraic set. By the definition of affine algebraic sets, $ V = \VV\br{J} $ for some ideal $ J \subseteq k\sbr{X_1, \dots, X_n} $. Suppose that $ \underline{y} \notin V $. We shall show that $ \underline{y} \notin \VV\br{\II\br{V}} $. Because $ \underline{y} \notin V = \VV\br{J} $, there exists $ f \in J $ such that $ f\br{\underline{y}} \ne 0 $. By definition, $ J \subseteq \II\br{V} $ and so $ f \in \II\br{V} $. Hence $ f\br{\underline{y}} \ne 0 $ tells us that $ \underline{y} \notin \VV\br{\II\br{V}} $.
\end{proof}

What is the geometric interpretation of the Hilbert basis theorem?

\begin{note*}
It is clear that $ \VV $ and $ \II $ reverse the direction of inclusions, so if $ I_1 \subseteq I_2 $, then $ \VV\br{I_2} \subseteq \VV\br{I_1} $.
\end{note*}

Hence the ascending chain condition for ideals translates into the descending chain condition for affine algebraic sets. The following statement is the translation into affine algebraic sets of the Hilbert basis theorem.

\begin{lemma}
Let $ V_1 \supseteq V_2 \supseteq \dots $ be a descending chain of affine algebraic sets in $ \AA^n $. Then there exists $ N $ such that $ V_n = V_N $ for all $ n > N $.
\end{lemma}

\begin{proof}
The fact that $ V_1 \supseteq V_2 \supseteq \dots $ implies that $ \II\br{V_1} \subseteq \II\br{V_2} \subseteq \dots $. Because $ k\sbr{X_1, \dots, X_n} $ is Noetherian, there exists $ N $ such that $ \II\br{V_n} = \II\br{V_N} $ for all $ n > N $. By Lemma \ref{lem:viv}, $ V_n = \VV\br{\II\br{V_n}} $ for every $ n $ and so this proves the proposition.
\end{proof}

\pagebreak

\subsubsection{Statement of the Nullstellensatz}

When does $ \II\br{\VV\br{I}} = I $? It turns out that the only reason that this can fail is where elements of the ideal $ I $ have $ n $-th roots which are not in $ I $, just as with the example of $ I = \abr{X^2} $ where $ X^2 \in I $ has a square root $ X $ which is not in $ I $. To state this precisely, we need to recall the definition of the radical of an ideal from commutative algebra.

\begin{definition}
Let $ I $ be an ideal in a ring $ R $. The \textbf{radical} of $ I $ is
$$ \rad I = \sqrt{I} = \cbr{f \in R \st \exists n > 0, \ f^n \in I}. $$
We say that $ I $ is a \textbf{radical ideal} if $ \rad I = I $.
\end{definition}

\begin{note*}
If $ I $ is any ideal, then $ \rad I $ is always a radical ideal.
\end{note*}

\begin{theorem}[Hilbert's Nullstellensatz]
Let $ I $ be any ideal in the polynomial ring $ k\sbr{X_1, \dots, X_n} $ over an algebraically closed field $ k $. Then
$$ \II\br{\VV\br{I}} = \rad I. $$
\end{theorem}

This is a substantial theorem, fundamental to algebraic geometry. We will prove it in a few lectures' time, not because we need to develop more theory, just because I would like to introduce some more concepts first which will allow us to do more with examples.

\begin{note*}
To calculate $ \rad I $, we need to add in $ n $-th roots of all elements of $ I $, not just the generators.
\end{note*}

\begin{example*}
If $ I = \abr{X, Y^2 - X} \subseteq k\sbr{X, Y} $, then we can rewrite this as $ I = \abr{X, Y^2} $ and so $ \rad I = \abr{X, Y} \ne I $, even though neither of the original generators of $ I $ had any non-trivial $ n $-th roots.
\end{example*}

\subsubsection{Basic facts about the Zariski topology}

We have seen that affine algebraic sets in $ \AA^n $ satisfy the following conditions.
\begin{itemize}
\item $ \AA^n $ and $ \emptyset $ are affine algebraic sets.
\item A finite union of affine algebraic sets is an affine algebraic set.
\item An arbitrary intersection of affine algebraic sets is an affine algebraic set.
\end{itemize}
The are precisely the conditions satisfied by the closed sets in a topological space. Therefore, we can define a topological space in which the underlying set is $ \AA^n $ and closed sets are the affine algebraic sets. This is called the \textbf{Zariski topology}. This is a very different topology from the ones you are used to in analysis. In particular, it is a very long way from being Hausdorff. For any affine algebraic set $ V \subseteq \AA^n $, we define the \textbf{Zariski topology} on $ V $ to be the subspace topology on $ V $ induced by the Zariski topology on $ \AA^n $. Thus, a subset of $ V $ is Zariski closed in $ V $ if and only if it is Zariski closed in $ \AA^n $. Thus for closed sets it does not matter whether we say Zariski closed in $ V $ or Zariski closed in $ \AA^n $.

\lecture{4}{Monday}{20/01/20}

\begin{example*}
The Zariski topology on $ \AA^1 $ is the same as the cofinite topology. Prove that the Zariski topology on $ \AA^1 $ is not Hausdorff. \footnote{Exercise}
\end{example*}

Thus we see that the Zariski topology has much fewer closed sets, or much fewer open sets, than for example the Euclidean topology.

\begin{lemma}
Suppose that $ k = \CC $, so there is a Euclidean topology on $ \AA_\CC^n $. If $ V $ is a Zariski closed subset of $ \AA_\CC^n $, then $ V $ is closed in the Euclidean topology, so the Euclidean topology is finer than the Zariski topology.
\end{lemma}

\begin{proof}
Let $ f \in \CC\sbr{X_1, \dots, X_n} $ be a polynomial. It is a continuous function $ \AA_\CC^n \to \CC $ for the Euclidean topology. Since $ \cbr{0} $ is a closed subset of $ \CC $, $ \VV\br{f} = f^{-1}\br{0} $ is a closed subset of $ \AA_\CC^n $ in the Euclidean topology. We conclude by noting that intersections of closed sets are closed.
\end{proof}

\pagebreak

On the other hand, for open sets Zariski open in $ V $ does not mean the same thing as Zariski open in $ \AA^n $. A Zariski open subset of $ V $ need not be Zariski open in $ \AA^n $.

\begin{example*}
Let $ V $ be the $ x $-axis in $ \AA^2 $. Then $ V \setminus \cbr{0} $ is open in $ V $, but not open in $ \AA^2 $.
\end{example*}

The open subsets of the Zariski topology are all very big. This is made precise, for $ \AA^1 $, by the following lemma.

\begin{lemma}
Prove that every pair $ U_1 $ and $ U_2 $ of non-empty open sets in $ \AA^1 $ has a non-empty intersection $ U_1 \cap U_2 $.
\end{lemma}

Hence the Zariski topology on $ \AA^1 $ is not Hausdorff. A subset of $ \AA^1 $ is dense in the Zariski topology if and only if it is infinite. At the moment, the Zariski topology is likely to seem very strange. It might also seem like, what is the point of such a strange topology? We will not use it in a very deep way, it is just a convenient language to be able to talk about open and closed sets. It does get used more seriously in the theory of schemes.

\subsubsection{Connected and irreducible sets}

Recall the definition of a connected topological space.

\begin{definition}
A topological space $ S $ is \textbf{connected} if it is not possible to write it as the union of two disjoint non-empty open sets. This is equivalent to, it is not possible to write $ S $ as the union of two disjoint non-empty closed sets.
\end{definition}

It is possible to talk about connectedness in the Zariski topology.

\begin{example*}
A finite set of points of size greater than one is not connected in the Zariski topology, since every subset is closed.
\end{example*}

Consider the following affine algebraic sets in $ \AA^2 $. Do they have one or two pieces? Do they have one or two pieces? I have deliberately not specified what I mean by pieces. There are multiple sensible interpretations, so there is not always a unique correct answer.
\begin{itemize}
\item The union of two disjoint lines $ \VV\br{X\br{X - 1}} $.
\item The union of two intersecting lines $ \VV\br{XY} $.
\item The hyperbola $ \VV\br{XY - 1} $.
\end{itemize}

\begin{example*}
The union of two disjoint lines $ \VV\br{X\br{X - 1}} $ is not connected, since it unambiguously has two pieces, the two lines $ \VV\br{X} $ and $ \VV\br{X - 1} $, and each line is a non-empty closed subset.
\end{example*}

But there is a more refined notion for the Zariski topology.

\begin{example*}
The set $ \VV\br{XY} $ has more than one answer. The two axes form two pieces. It is a union of two lines, intersecting at the origin, joining them into one piece. Describe the Zariski closed subsets. \footnote{Exercise}
\end{example*}

The following notion gives us a way of formally understanding the example described.

\begin{definition}
A topological space $ S $ is \textbf{reducible} if it is empty, or there exist closed sets $ S_1, S_2 \subseteq S $ such that $ S = S_1 \cup S_2 $, and neither $ S_1 $ nor $ S_2 $ is equal to $ S $. A topological space $ S $ is \textbf{irreducible} if it is non-empty and it is not possible to write it as the union $ S_1 \cup S_2 $ of two closed sets, unless at least one of $ S_1 $ and $ S_2 $ is equal to $ S $ itself. Compared to the second definition of connected, we no longer require $ S_1 $ and $ S_2 $ to be disjoint.
\end{definition}

This is not a very useful notion for the topological spaces we consider in analysis.

\begin{example*}
Considering the real line with the Euclidean topology, we can write it as a union of proper closed subsets,
$$ \RR = \cbr{x \in \RR \st x \le 0} \cup \cbr{x \in \RR \st x \ge 0}. $$
These subsets are not disjoint because they intersect at zero. Of course, there are many other ways to write $ \RR $ as a union of proper closed subsets in the usual topology. The same is true for any other Hausdorff space.
\end{example*}

\pagebreak

\begin{example*}
The drawing of $ \VV\br{XY - 1} $ in $ \RR^2 $ is misleading. It looks like it has two pieces, but, as mentioned before, we are missing a lot by only looking at real solutions. For algebraic geometry, we need to look at complex solutions, and then over $ \CC $ it unambiguously has one piece. One way to visualise this is to note that, if we project down to the $ x $ coordinate, $ \VV\br{XY - 1} $ looks like the set $ \AA^1 \setminus \cbr{0} $. This is not a formal statement. We have not yet defined a notion of isomorphism of affine algebraic sets, and even if we had, $ \AA^1 \setminus \cbr{0} $ is not an affine algebraic set. In a few weeks we will develop technology to make this into a rigorous statement. But for now we use it as a heuristic. Then $ \RR \setminus \cbr{0} $ unambiguously has two pieces, but $ \CC \setminus \cbr{0} $ is connected in the usual analytic topology on $ \CC $ and unambiguously has one piece. So the hyperbola, over an algebraically closed field, should have only one piece.
\end{example*}

We prove below in the lecture that $ \VV\br{XY - 1} $ is irreducible, and also connected.

\begin{lemma}
The hyperbola $ H = \VV\br{XY - 1} $ is irreducible.
\end{lemma}

\begin{proof}
We need to describe the Zariski closed subsets of $ H $. So let $ V \subseteq H $ be a proper Zariski closed subset. Since $ V \ne H $ there must be some polynomial $ f \in k\sbr{X, Y} $ which vanishes on $ V $ but does not vanish on all of $ H $. Because $ V \subseteq H $ and $ y = 1 / x $ on $ H $, we have $ f\br{x, y} = f\br{x, 1 / x} $ when $ \br{x, y} \in V $. Now $ f\br{X, 1 / X} $ is almost a polynomial in the single variable $ X $, except that it may contain negative powers of $ X $, so
$$ f\br{X, \dfrac{1}{X}} = \sum_{n \in \ZZ} a_nX^n. $$
We can multiply up by $ X^m $ where $ -m $ is the lowest exponent of $ X $ which appears in this expression. Then $ X^mf\br{X, 1 / X} $ is a polynomial in $ X $, which vanishes on $ V $. Furthermore $ f\br{X, 1 / X} $ is not identically zero because $ f $ does not vanish identically on $ H $. Hence $ X^mf\br{X, 1 / X} $ is a non-zero single-variable polynomial, therefore it has only finitely many roots. The roots of $ X^mf\br{X, 1 / X} = 0 $ are the possible $ x $ coordinates for points in $ V $. For each value of $ x $, there is at most one possible $ y $ such that $ \br{x, y} \in V $ because $ y = 1 / x $ on $ V $. Therefore $ V $ is finite. Thus we have shown that all proper Zariski closed subsets of $ H $ are finite. In particular, if $ V_1 $ and $ V_2 $ are two proper Zariski closed subsets of $ H $, they are both finite and so their union is finite. Hence $ V_1 \cup V_2 \ne H $ so $ H $ is irreducible.
\end{proof}

Thus the Zariski topology on $ H $ is the cofinite topology. Here is a bonus fact about connected sets in the Zariski topology which I did not mention in the lecture. The proof is surprisingly hard.

\begin{theorem}
Over $ \CC $, an affine algebraic set is connected in the Zariski topology if and only if it is connected in the Euclidean topology.
\end{theorem}

If $ V $ is an affine algebraic set, what condition on the ideal $ \II\br{V} $ is equivalent to $ V $ being irreducible?

\end{document}